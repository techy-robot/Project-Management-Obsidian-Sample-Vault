/*
-------------------------------------------
JS Engine - Release Build
-------------------------------------------
By: Moritz Jung (https://www.moritzjung.dev/)
Time: Mon, 16 Sep 2024 14:29:42 GMT
Version: 0.1.15
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2024 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";var _f=Object.create;var bi=Object.defineProperty;var vf=Object.getOwnPropertyDescriptor;var gf=Object.getOwnPropertyNames;var xf=Object.getPrototypeOf,wf=Object.prototype.hasOwnProperty;var jr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Yu=(t,e)=>{for(var r in e)bi(t,r,{get:e[r],enumerable:!0})},Ku=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gf(e))!wf.call(t,i)&&i!==r&&bi(t,i,{get:()=>e[i],enumerable:!(n=vf(e,i))||n.enumerable});return t};var qr=(t,e,r)=>(r=t!=null?_f(xf(t)):{},Ku(e||!t||!t.__esModule?bi(r,"default",{value:t,enumerable:!0}):r,t)),bf=t=>Ku(bi({},"__esModule",{value:!0}),t);var oo=jr(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.P_HELPERS=Fe.ParserHelpers=Fe.validateRegexFlags=Fe.validateRange=Fe.getIndex=Fe.arrayUnion=void 0;var _u=ri();function Qd(t,e){if(t===void 0&&e===void 0)return;if(t===void 0)return e;if(e===void 0)return t;let r=[...t];for(let n of e)r.includes(n)||r.push(n);return r}Fe.arrayUnion=Qd;function Xd(t){return t===void 0?-1:t.index}Fe.getIndex=Xd;function Zd(t,e){if(e<t)throw new Error(`Invalid Range: max might not be smaller than min. Received [${t}, ${e}].`);if(t<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${t}, ${e}].`);if(t===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${t}, ${e}].`);if(!Number.isInteger(t)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${t}, ${e}].`)}Fe.validateRange=Zd;function ep(t){for(let e of t)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}Fe.validateRegexFlags=ep;var io=class{followedBy(e){return new _u.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new _u.Parser(function(n){let i=n.copy(),o=e.p(i),s=n.sliceTo(i.position.index);return o.success?n.fail("not '"+s+"'"):n.succeed(void 0)})}test(e){return new _u.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};Fe.ParserHelpers=io;Fe.P_HELPERS=new io});var xu=jr(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.ParserContext=void 0;var vu=oo(),gu=class t{constructor(e,r){this.input=e,this.position=r}moveToPosition(e){return this.position=e,this}copy(){return new t(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let r=this.position.index;r<e;r++)this.input[r]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,r){return this.succeedAt(this.position.index+e,r)}failOffset(e,r){return this.failAt(this.position.index+e,r)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,r){return this.advanceTo(e),{success:!0,value:r,furthest:void 0,expected:void 0}}failAt(e,r){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(r)?r:[r]}}merge(e,r){if(e===void 0)return r;let n=(0,vu.getIndex)(e.furthest),i=(0,vu.getIndex)(r.furthest);if(i>n)return r;let o=i===n?(0,vu.arrayUnion)(e.expected,r.expected):e.expected;return r.furthest=e.furthest,r.expected=o,r}};so.ParserContext=gu});var lo=jr(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.P=void 0;var Ye=ri(),ao=oo(),wu=class t{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new Ye.Parser(function(n){let i,o=new Array(e.length);for(let s=0;s<e.length;s++){let u=e[s].p(n);if(i=n.merge(i,u),!i.success)return i;o[s]=i.value}return i.value=o,i})}static sequenceMap(e,...r){if(r.length===0)throw new Error("sequenceMap must have at least one parser argument");return new Ye.Parser(function(i){let o,s=new Array(r.length);for(let a=0;a<r.length;a++){let l=r[a].p(i);if(o=i.merge(o,l),!o.success)return o;s[a]=o.value}return o.value=e(...s),o})}static createLanguage(e){let r={},n={},i={};for(let o in e)i[o]=t.reference(()=>e[o](r,i)),Object.defineProperty(n,o,{get:()=>{if(r[o]!==void 0)return r[o];throw new Error(`Can not access rule '${o}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let o in e)r[o]=e[o](n,i);return r}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new Ye.Parser(function(n){let i;for(let o of e){let s=o,a=n.copy(),u=s.p(a);if(i=n.merge(i,u),i.success)return n.moveToPosition(a.position),i}return i})}static separateBy(e,r){return this.separateByNotEmpty(e,r).or(t.succeed([]))}static separateByNotEmpty(e,r){return this.sequenceMap(function(i,o){return o.unshift(i),o},e,r.then(e).many())}static string(e){let r="'"+e+"'";return new Ye.Parser(function(i){for(let o=0;o<e.length;o++)if(i.input[i.position.index+o]!==e[o])return i.fail(r);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,r){(0,ao.validateRegexFlags)(e.flags);let n=e.source;return r!==void 0?new Ye.Parser(function(o){let s=o.input.slice(o.position.index),a=e.exec(s);if(a!==null){let u=r??0;if(u>=0&&u<=a.length){let f=a[0],p=a[u];return o.succeedOffset(f.length,p)}let l="expected valid match group (0 to "+a.length+") in "+n;return o.fail(l)}else return o.fail(n)}):new Ye.Parser(function(o){let s=o.input.slice(o.position.index),a=e.exec(s);if(a!==null){let u=a[0];return o.succeedOffset(u.length,u)}else return o.fail(n)})}static succeed(e){return new Ye.Parser(function(n){return n.succeed(e)})}static fail(e){return new Ye.Parser(function(n){return n.fail(e)})}static oneOf(e){return ao.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return ao.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(r=>this.string(r))).describe(e.map(r=>`'${r}'`).join(" or "))}static manyOf(e){return new Ye.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new Ye.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new Ye.Parser(e)}static range(e,r){let n=e.charCodeAt(0),i=r.charCodeAt(0);return ao.P_HELPERS.test(function(s){let a=s.charCodeAt(0);return n<=a&&a<=i}).describe(`${e}-${r}`)}static takeWhile(e){return new Ye.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new Ye.Parser(function(n){return e().p(n)})}};uo.P=wu});var Eu=jr(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.P_UTILS=void 0;var co=ri(),Q=lo(),bu=class t{static position(){return new co.Parser(e=>e.succeed(e.getPosition()))}static any(){return new co.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new co.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new co.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return Q.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return Q.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return Q.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return Q.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return Q.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return Q.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return Q.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return Q.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return Q.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return Q.P.regexp(/^\s+/).describe("whitespace")}static cr(){return Q.P.string("\r")}static lf(){return Q.P.string(`
`)}static crlf(){return Q.P.string(`\r
`)}static newline(){return Q.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,r,n){return Q.P.sequenceMap((i,o)=>i.reduce((s,a)=>n(a,s),o),e.many(),r)}static postfix(e,r,n){return Q.P.sequenceMap((i,o)=>o.reduce((s,a)=>n(a,s),i),r,e.many())}static binaryRight(e,r,n){return Q.P.sequenceMap((i,o)=>i.reverse().reduce((s,a)=>{let[u,l]=a;return n(u,l,s)},o),Q.P.sequence(r,e.trim(this.optionalWhitespace())).many(),r)}static binaryLeft(e,r,n){return Q.P.sequenceMap((i,o)=>o.reduce((s,a)=>{let[u,l]=a;return n(s,u,l)},i),r,Q.P.sequence(e.trim(this.optionalWhitespace()),r).many())}static binaryRightRange(e,r,n){return Q.P.sequenceMap((i,o,s)=>i.reverse().reduce((a,u)=>{let[l,f,p]=u;return n({from:l,to:s},f,p,a)},o),Q.P.sequence(t.position(),r,e.trim(this.optionalWhitespace())).many(),r,t.position())}static binaryLeftRange(e,r,n){return Q.P.sequenceMap((i,o,s)=>s.reduce((a,u)=>{let[l,f,p]=u;return n({from:i,to:p},a,l,f)},o),t.position(),r,Q.P.sequence(e.trim(this.optionalWhitespace()),r,t.position()).many())}static func(e,r,n){let i=typeof e=="string"?Q.P.string(e):e;return Q.P.sequenceMap((o,s,a,u,l,f)=>n(o,u),i,Q.P.string("("),this.optionalWhitespace(),r,this.optionalWhitespace(),Q.P.string(")"))}};fo.P_UTILS=bu});var Tu=jr(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.ParsingError=ln.createParsingErrorMessage=void 0;function bc(t,e,r){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(r){let s=t.split(`
`)[e.furthest.line-1],a=`${e.furthest.line} |   `;i+=`

${a}${s}`,i+=`
${" ".repeat(e.furthest.column-1+a.length)}^ (${n})`}return i}ln.createParsingErrorMessage=bc;var Au=class extends Error{constructor(e,r){super(bc(e,r,!0))}};ln.ParsingError=Au});var ri=jr(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.Parser=void 0;var tp=xu(),rt=lo(),$u=oo(),cn=Eu(),rp=Tu(),ku=class t{constructor(e){this.p=e}tryParse(e){return this.p(new tp.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let r=this.tryParse(e);if(r.success)return r.value;throw new rp.ParsingError(e,r)}or(e){return rt.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(rt.P.string(e))}wrap(e,r){let n=this;return new t(function(o){let s=e.p(o);if(!s.success)return s;let a=o.merge(s,n.p(o));if(!a.success)return a;let u=o.merge(a,r.p(o));return u.success?o.merge(u,o.succeed(a.value)):u})}wrapString(e,r){return this.wrap(rt.P.string(e),rt.P.string(r))}then(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let s=i.merge(o,e.p(i));return s.success,s})}skip(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let s=i.merge(o,e.p(i));return s.success?i.merge(s,i.succeed(o.value)):s})}and(e){return rt.P.sequence(this,e)}many(){let e=this;return new t(function(n){let i,o=n.position.index,s=[];for(;;){let a=n.copy(),u=e.p(a);if(i=n.merge(i,u),i.success){if(a.position.index===o)throw new Error("infinite loop in many() parser detected");n.moveToPosition(a.position),s.push(i.value)}else return n.merge(i,n.succeed(s))}})}repeat(e,r){(0,$u.validateRange)(e,r);let n=this;return new t(function(o){let s,a,u=[],l=0;for(;l<e;l++)if(s=n.p(o),a=o.merge(a,s),s.success)u.push(s.value);else return a;for(;l<r;l++){let f=o.copy();if(s=n.p(f),a=o.merge(a,s),s.success)o.moveToPosition(f.position),u.push(s.value);else break}return o.merge(a,o.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return rt.P.sequenceMap((r,n)=>r.concat(n),this.repeat(e,e),this.many())}separateBy(e){return rt.P.separateBy(this,e)}separateByNotEmpty(e){return rt.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let r=this;return new t(function(i){let o=r.p(i);return o.success&&(o.value=e(o.value)),o})}marker(){return rt.P.sequenceMap(function(r,n,i){return{value:n,range:{from:r,to:i}}},cn.P_UTILS.position(),this,cn.P_UTILS.position())}namedMarker(e){return rt.P.sequenceMap(function(n,i,o){return{value:i,name:e,range:{from:n,to:o}}},cn.P_UTILS.position(),this,cn.P_UTILS.position())}node(e){return rt.P.sequenceMap(function(n,i,o){return e(i,{from:n,to:o})},cn.P_UTILS.position(),this,cn.P_UTILS.position())}followedBy(e){return this.skip($u.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip($u.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let r=this;return new t(function(i){let o=r.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=e),o})}box(e){let r=this;return new t(function(i){var o;let s=r.p(i);return s.expected!==void 0&&s.expected.length!==0&&(s.expected=[`(${(o=s.expected)===null||o===void 0?void 0:o.join(" or ")} as part of ${e})`]),s})}optional(e){return this.or(rt.P.succeed(e))}chain(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let a=e(o.value).p(i);return i.merge(o,a)})}thenEof(){let e=this;return new t(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,r="",n=new Map,i=new Map;return new t(function(s){let a=s.position.index;if(s.input!==r)r=s.input,n.clear(),i.clear();else{let l=n.get(a),f=i.get(a);if(l!==void 0&&f!==void 0)return s.moveToPosition(Object.assign({},f)),Object.assign({},l)}let u=e.p(s);return n.set(a,Object.assign({},u)),i.set(a,s.getPosition()),u})}};po.Parser=ku});var Ep={};Yu(Ep,{default:()=>ya});module.exports=bf(Ep);function Ei(t){var e=t.statementIndent,r=t.jsonld,n=t.json||r,i=t.typescript,o=t.wordCharacters||/[\w$\xa1-\uffff]/,s=function(){function c(Ue){return{type:Ue,style:"keyword"}}var h=c("keyword a"),g=c("keyword b"),k=c("keyword c"),S=c("keyword d"),J=c("operator"),K={type:"atom",style:"atom"};return{if:c("if"),while:h,with:h,else:g,do:g,try:g,finally:g,return:S,break:S,continue:S,new:c("new"),delete:k,void:k,throw:k,debugger:c("debugger"),var:c("var"),const:c("var"),let:c("var"),function:c("function"),catch:c("catch"),for:c("for"),switch:c("switch"),case:c("case"),default:c("default"),in:J,typeof:J,instanceof:J,true:K,false:K,null:K,undefined:K,NaN:K,Infinity:K,this:c("this"),class:c("class"),super:c("atom"),yield:k,export:c("export"),import:c("import"),extends:k,await:k}}(),a=/[+\-*&%=<>!?|~^@]/,u=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function l(c){for(var h=!1,g,k=!1;(g=c.next())!=null;){if(!h){if(g=="/"&&!k)return;g=="["?k=!0:k&&g=="]"&&(k=!1)}h=!h&&g=="\\"}}var f,p;function d(c,h,g){return f=c,p=g,h}function y(c,h){var g=c.next();if(g=='"'||g=="'")return h.tokenize=_(g),h.tokenize(c,h);if(g=="."&&c.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return d("number","number");if(g=="."&&c.match(".."))return d("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(g))return d(g);if(g=="="&&c.eat(">"))return d("=>","operator");if(g=="0"&&c.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return d("number","number");if(/\d/.test(g))return c.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),d("number","number");if(g=="/")return c.eat("*")?(h.tokenize=w,w(c,h)):c.eat("/")?(c.skipToEnd(),d("comment","comment")):yf(c,h,1)?(l(c),c.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),d("regexp","string.special")):(c.eat("="),d("operator","operator",c.current()));if(g=="`")return h.tokenize=T,T(c,h);if(g=="#"&&c.peek()=="!")return c.skipToEnd(),d("meta","meta");if(g=="#"&&c.eatWhile(o))return d("variable","property");if(g=="<"&&c.match("!--")||g=="-"&&c.match("->")&&!/\S/.test(c.string.slice(0,c.start)))return c.skipToEnd(),d("comment","comment");if(a.test(g))return(g!=">"||!h.lexical||h.lexical.type!=">")&&(c.eat("=")?(g=="!"||g=="=")&&c.eat("="):/[<>*+\-|&?]/.test(g)&&(c.eat(g),g==">"&&c.eat(g))),g=="?"&&c.eat(".")?d("."):d("operator","operator",c.current());if(o.test(g)){c.eatWhile(o);var k=c.current();if(h.lastType!="."){if(s.propertyIsEnumerable(k)){var S=s[k];return d(S.type,S.style,k)}if(k=="async"&&c.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return d("async","keyword",k)}return d("variable","variable",k)}}function _(c){return function(h,g){var k=!1,S;if(r&&h.peek()=="@"&&h.match(u))return g.tokenize=y,d("jsonld-keyword","meta");for(;(S=h.next())!=null&&!(S==c&&!k);)k=!k&&S=="\\";return k||(g.tokenize=y),d("string","string")}}function w(c,h){for(var g=!1,k;k=c.next();){if(k=="/"&&g){h.tokenize=y;break}g=k=="*"}return d("comment","comment")}function T(c,h){for(var g=!1,k;(k=c.next())!=null;){if(!g&&(k=="`"||k=="$"&&c.eat("{"))){h.tokenize=y;break}g=!g&&k=="\\"}return d("quasi","string.special",c.current())}var E="([{}])";function A(c,h){h.fatArrowAt&&(h.fatArrowAt=null);var g=c.string.indexOf("=>",c.start);if(!(g<0)){if(i){var k=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(c.string.slice(c.start,g));k&&(g=k.index)}for(var S=0,J=!1,K=g-1;K>=0;--K){var Ue=c.string.charAt(K),Xe=E.indexOf(Ue);if(Xe>=0&&Xe<3){if(!S){++K;break}if(--S==0){Ue=="("&&(J=!0);break}}else if(Xe>=3&&Xe<6)++S;else if(o.test(Ue))J=!0;else if(/["'\/`]/.test(Ue))for(;;--K){if(K==0)return;var Ln=c.string.charAt(K-1);if(Ln==Ue&&c.string.charAt(K-2)!="\\"){K--;break}}else if(J&&!S){++K;break}}J&&!S&&(h.fatArrowAt=K)}}var b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function x(c,h,g,k,S,J){this.indented=c,this.column=h,this.type=g,this.prev=S,this.info=J,k!=null&&(this.align=k)}function F(c,h){for(var g=c.localVars;g;g=g.next)if(g.name==h)return!0;for(var k=c.context;k;k=k.prev)for(var g=k.vars;g;g=g.next)if(g.name==h)return!0}function G(c,h,g,k,S){var J=c.cc;for(v.state=c,v.stream=S,v.marked=null,v.cc=J,v.style=h,c.lexical.hasOwnProperty("align")||(c.lexical.align=!0);;){var K=J.length?J.pop():n?ne:pe;if(K(g,k)){for(;J.length&&J[J.length-1].lex;)J.pop()();return v.marked?v.marked:g=="variable"&&F(c,k)?"variableName.local":h}}}var v={state:null,column:null,marked:null,cc:null};function I(){for(var c=arguments.length-1;c>=0;c--)v.cc.push(arguments[c])}function m(){return I.apply(null,arguments),!0}function Pe(c,h){for(var g=h;g;g=g.next)if(g.name==c)return!0;return!1}function _e(c){var h=v.state;if(v.marked="def",h.context){if(h.lexical.info=="var"&&h.context&&h.context.block){var g=Rr(c,h.context);if(g!=null){h.context=g;return}}else if(!Pe(c,h.localVars)){h.localVars=new Pn(c,h.localVars);return}}t.globalVars&&!Pe(c,h.globalVars)&&(h.globalVars=new Pn(c,h.globalVars))}function Rr(c,h){if(h)if(h.block){var g=Rr(c,h.prev);return g?g==h.prev?h:new cr(g,h.vars,!0):null}else return Pe(c,h.vars)?h:new cr(h.prev,new Pn(c,h.vars),!1);else return null}function lr(c){return c=="public"||c=="private"||c=="protected"||c=="abstract"||c=="readonly"}function cr(c,h,g){this.prev=c,this.vars=h,this.block=g}function Pn(c,h){this.name=c,this.next=h}var Jc=new Pn("this",new Pn("arguments",null));function fr(){v.state.context=new cr(v.state.context,v.state.localVars,!1),v.state.localVars=Jc}function hi(){v.state.context=new cr(v.state.context,v.state.localVars,!0),v.state.localVars=null}fr.lex=hi.lex=!0;function it(){v.state.localVars=v.state.context.vars,v.state.context=v.state.context.prev}it.lex=!0;function D(c,h){var g=function(){var k=v.state,S=k.indented;if(k.lexical.type=="stat")S=k.lexical.indented;else for(var J=k.lexical;J&&J.type==")"&&J.align;J=J.prev)S=J.indented;k.lexical=new x(S,v.stream.column(),c,null,k.lexical,h)};return g.lex=!0,g}function O(){var c=v.state;c.lexical.prev&&(c.lexical.type==")"&&(c.indented=c.lexical.indented),c.lexical=c.lexical.prev)}O.lex=!0;function W(c){function h(g){return g==c?m():c==";"||g=="}"||g==")"||g=="]"?I():m(h)}return h}function pe(c,h){return c=="var"?m(D("vardef",h),wa,W(";"),O):c=="keyword a"?m(D("form"),_a,pe,O):c=="keyword b"?m(D("form"),pe,O):c=="keyword d"?v.stream.match(/^\s*$/,!1)?m():m(D("stat"),Lr,W(";"),O):c=="debugger"?m(W(";")):c=="{"?m(D("}"),hi,_i,O,it):c==";"?m():c=="if"?(v.state.lexical.info=="else"&&v.state.cc[v.state.cc.length-1]==O&&v.state.cc.pop()(),m(D("form"),_a,pe,O,Uu)):c=="function"?m(Vt):c=="for"?m(D("form"),hi,Wu,pe,it,O):c=="class"||i&&h=="interface"?(v.marked="keyword",m(D("form",c=="class"?c:h),Vu,O)):c=="variable"?i&&h=="declare"?(v.marked="keyword",m(pe)):i&&(h=="module"||h=="enum"||h=="type")&&v.stream.match(/^\s*\w/,!1)?(v.marked="keyword",h=="enum"?m(Gu):h=="type"?m(Ju,W("operator"),Y,W(";")):m(D("form"),ot,W("{"),D("}"),_i,O,O)):i&&h=="namespace"?(v.marked="keyword",m(D("form"),ne,pe,O)):i&&h=="abstract"?(v.marked="keyword",m(pe)):m(D("stat"),Kc):c=="switch"?m(D("form"),_a,W("{"),D("}","switch"),hi,_i,O,O,it):c=="case"?m(ne,W(":")):c=="default"?m(W(":")):c=="catch"?m(D("form"),fr,Vc,pe,O,it):c=="export"?m(D("stat"),cf,O):c=="import"?m(D("stat"),ff,O):c=="async"?m(pe):h=="@"?m(ne,pe):I(D("stat"),ne,W(";"),O)}function Vc(c){if(c=="(")return m(hr,W(")"))}function ne(c,h){return Du(c,h,!1)}function Be(c,h){return Du(c,h,!0)}function _a(c){return c!="("?I():m(D(")"),Lr,W(")"),O)}function Du(c,h,g){if(v.state.fatArrowAt==v.stream.start){var k=g?ju:Fu;if(c=="(")return m(fr,D(")"),ve(hr,")"),O,W("=>"),k,it);if(c=="variable")return I(fr,ot,W("=>"),k,it)}var S=g?Nr:dr;return b.hasOwnProperty(c)?m(S):c=="function"?m(Vt,S):c=="class"||i&&h=="interface"?(v.marked="keyword",m(D("form"),lf,O)):c=="keyword c"||c=="async"?m(g?Be:ne):c=="("?m(D(")"),Lr,W(")"),O,S):c=="operator"||c=="spread"?m(g?Be:ne):c=="["?m(D("]"),pf,O,S):c=="{"?Cn(yi,"}",null,S):c=="quasi"?I(mi,S):c=="new"?m(zc(g)):m()}function Lr(c){return c.match(/[;\}\)\],]/)?I():I(ne)}function dr(c,h){return c==","?m(Lr):Nr(c,h,!1)}function Nr(c,h,g){var k=g==!1?dr:Nr,S=g==!1?ne:Be;if(c=="=>")return m(fr,g?ju:Fu,it);if(c=="operator")return/\+\+|--/.test(h)||i&&h=="!"?m(k):i&&h=="<"&&v.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?m(D(">"),ve(Y,">"),O,k):h=="?"?m(ne,W(":"),S):m(S);if(c=="quasi")return I(mi,k);if(c!=";"){if(c=="(")return Cn(Be,")","call",k);if(c==".")return m(Qc,k);if(c=="[")return m(D("]"),Lr,W("]"),O,k);if(i&&h=="as")return v.marked="keyword",m(Y,k);if(c=="regexp")return v.state.lastType=v.marked="operator",v.stream.backUp(v.stream.pos-v.stream.start-1),m(S)}}function mi(c,h){return c!="quasi"?I():h.slice(h.length-2)!="${"?m(mi):m(Lr,Hc)}function Hc(c){if(c=="}")return v.marked="string.special",v.state.tokenize=T,m(mi)}function Fu(c){return A(v.stream,v.state),I(c=="{"?pe:ne)}function ju(c){return A(v.stream,v.state),I(c=="{"?pe:Be)}function zc(c){return function(h){return h=="."?m(c?Yc:Gc):h=="variable"&&i?m(nf,c?Nr:dr):I(c?Be:ne)}}function Gc(c,h){if(h=="target")return v.marked="keyword",m(dr)}function Yc(c,h){if(h=="target")return v.marked="keyword",m(Nr)}function Kc(c){return c==":"?m(O,pe):I(dr,W(";"),O)}function Qc(c){if(c=="variable")return v.marked="property",m()}function yi(c,h){if(c=="async")return v.marked="property",m(yi);if(c=="variable"||v.style=="keyword"){if(v.marked="property",h=="get"||h=="set")return m(Xc);var g;return i&&v.state.fatArrowAt==v.stream.start&&(g=v.stream.match(/^\s*:\s*/,!1))&&(v.state.fatArrowAt=v.stream.pos+g[0].length),m(pr)}else{if(c=="number"||c=="string")return v.marked=r?"property":v.style+" property",m(pr);if(c=="jsonld-keyword")return m(pr);if(i&&lr(h))return v.marked="keyword",m(yi);if(c=="[")return m(ne,Or,W("]"),pr);if(c=="spread")return m(Be,pr);if(h=="*")return v.marked="keyword",m(yi);if(c==":")return I(pr)}}function Xc(c){return c!="variable"?I(pr):(v.marked="property",m(Vt))}function pr(c){if(c==":")return m(Be);if(c=="(")return I(Vt)}function ve(c,h,g){function k(S,J){if(g?g.indexOf(S)>-1:S==","){var K=v.state.lexical;return K.info=="call"&&(K.pos=(K.pos||0)+1),m(function(Ue,Xe){return Ue==h||Xe==h?I():I(c)},k)}return S==h||J==h?m():g&&g.indexOf(";")>-1?I(c):m(W(h))}return function(S,J){return S==h||J==h?m():I(c,k)}}function Cn(c,h,g){for(var k=3;k<arguments.length;k++)v.cc.push(arguments[k]);return m(D(h,g),ve(c,h),O)}function _i(c){return c=="}"?m():I(pe,_i)}function Or(c,h){if(i){if(c==":")return m(Y);if(h=="?")return m(Or)}}function Zc(c,h){if(i&&(c==":"||h=="in"))return m(Y)}function qu(c){if(i&&c==":")return v.stream.match(/^\s*\w+\s+is\b/,!1)?m(ne,ef,Y):m(Y)}function ef(c,h){if(h=="is")return v.marked="keyword",m()}function Y(c,h){if(h=="keyof"||h=="typeof"||h=="infer"||h=="readonly")return v.marked="keyword",m(h=="typeof"?Be:Y);if(c=="variable"||h=="void")return v.marked="type",m(St);if(h=="|"||h=="&")return m(Y);if(c=="string"||c=="number"||c=="atom")return m(St);if(c=="[")return m(D("]"),ve(Y,"]",","),O,St);if(c=="{")return m(D("}"),va,O,St);if(c=="(")return m(ve(xa,")"),tf,St);if(c=="<")return m(ve(Y,">"),Y);if(c=="quasi")return I(ga,St)}function tf(c){if(c=="=>")return m(Y)}function va(c){return c.match(/[\}\)\]]/)?m():c==","||c==";"?m(va):I(Rn,va)}function Rn(c,h){if(c=="variable"||v.style=="keyword")return v.marked="property",m(Rn);if(h=="?"||c=="number"||c=="string")return m(Rn);if(c==":")return m(Y);if(c=="[")return m(W("variable"),Zc,W("]"),Rn);if(c=="(")return I(Fr,Rn);if(!c.match(/[;\}\)\],]/))return m()}function ga(c,h){return c!="quasi"?I():h.slice(h.length-2)!="${"?m(ga):m(Y,rf)}function rf(c){if(c=="}")return v.marked="string.special",v.state.tokenize=T,m(ga)}function xa(c,h){return c=="variable"&&v.stream.match(/^\s*[?:]/,!1)||h=="?"?m(xa):c==":"?m(Y):c=="spread"?m(xa):I(Y)}function St(c,h){if(h=="<")return m(D(">"),ve(Y,">"),O,St);if(h=="|"||c=="."||h=="&")return m(Y);if(c=="[")return m(Y,W("]"),St);if(h=="extends"||h=="implements")return v.marked="keyword",m(Y);if(h=="?")return m(Y,W(":"),Y)}function nf(c,h){if(h=="<")return m(D(">"),ve(Y,">"),O,St)}function vi(){return I(Y,of)}function of(c,h){if(h=="=")return m(Y)}function wa(c,h){return h=="enum"?(v.marked="keyword",m(Gu)):I(ot,Or,Jt,af)}function ot(c,h){if(i&&lr(h))return v.marked="keyword",m(ot);if(c=="variable")return _e(h),m();if(c=="spread")return m(ot);if(c=="[")return Cn(sf,"]");if(c=="{")return Cn(Bu,"}")}function Bu(c,h){return c=="variable"&&!v.stream.match(/^\s*:/,!1)?(_e(h),m(Jt)):(c=="variable"&&(v.marked="property"),c=="spread"?m(ot):c=="}"?I():c=="["?m(ne,W("]"),W(":"),Bu):m(W(":"),ot,Jt))}function sf(){return I(ot,Jt)}function Jt(c,h){if(h=="=")return m(Be)}function af(c){if(c==",")return m(wa)}function Uu(c,h){if(c=="keyword b"&&h=="else")return m(D("form","else"),pe,O)}function Wu(c,h){if(h=="await")return m(Wu);if(c=="(")return m(D(")"),uf,O)}function uf(c){return c=="var"?m(wa,Dr):c=="variable"?m(Dr):I(Dr)}function Dr(c,h){return c==")"?m():c==";"?m(Dr):h=="in"||h=="of"?(v.marked="keyword",m(ne,Dr)):I(ne,Dr)}function Vt(c,h){if(h=="*")return v.marked="keyword",m(Vt);if(c=="variable")return _e(h),m(Vt);if(c=="(")return m(fr,D(")"),ve(hr,")"),O,qu,pe,it);if(i&&h=="<")return m(D(">"),ve(vi,">"),O,Vt)}function Fr(c,h){if(h=="*")return v.marked="keyword",m(Fr);if(c=="variable")return _e(h),m(Fr);if(c=="(")return m(fr,D(")"),ve(hr,")"),O,qu,it);if(i&&h=="<")return m(D(">"),ve(vi,">"),O,Fr)}function Ju(c,h){if(c=="keyword"||c=="variable")return v.marked="type",m(Ju);if(h=="<")return m(D(">"),ve(vi,">"),O)}function hr(c,h){return h=="@"&&m(ne,hr),c=="spread"?m(hr):i&&lr(h)?(v.marked="keyword",m(hr)):i&&c=="this"?m(Or,Jt):I(ot,Or,Jt)}function lf(c,h){return c=="variable"?Vu(c,h):gi(c,h)}function Vu(c,h){if(c=="variable")return _e(h),m(gi)}function gi(c,h){if(h=="<")return m(D(">"),ve(vi,">"),O,gi);if(h=="extends"||h=="implements"||i&&c==",")return h=="implements"&&(v.marked="keyword"),m(i?Y:ne,gi);if(c=="{")return m(D("}"),Mt,O)}function Mt(c,h){if(c=="async"||c=="variable"&&(h=="static"||h=="get"||h=="set"||i&&lr(h))&&v.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return v.marked="keyword",m(Mt);if(c=="variable"||v.style=="keyword")return v.marked="property",m(xi,Mt);if(c=="number"||c=="string")return m(xi,Mt);if(c=="[")return m(ne,Or,W("]"),xi,Mt);if(h=="*")return v.marked="keyword",m(Mt);if(i&&c=="(")return I(Fr,Mt);if(c==";"||c==",")return m(Mt);if(c=="}")return m();if(h=="@")return m(ne,Mt)}function xi(c,h){if(h=="!"||h=="?")return m(xi);if(c==":")return m(Y,Jt);if(h=="=")return m(Be);var g=v.state.lexical.prev,k=g&&g.info=="interface";return I(k?Fr:Vt)}function cf(c,h){return h=="*"?(v.marked="keyword",m(ba,W(";"))):h=="default"?(v.marked="keyword",m(ne,W(";"))):c=="{"?m(ve(Hu,"}"),ba,W(";")):I(pe)}function Hu(c,h){if(h=="as")return v.marked="keyword",m(W("variable"));if(c=="variable")return I(Be,Hu)}function ff(c){return c=="string"?m():c=="("?I(ne):c=="."?I(dr):I(wi,zu,ba)}function wi(c,h){return c=="{"?Cn(wi,"}"):(c=="variable"&&_e(h),h=="*"&&(v.marked="keyword"),m(df))}function zu(c){if(c==",")return m(wi,zu)}function df(c,h){if(h=="as")return v.marked="keyword",m(wi)}function ba(c,h){if(h=="from")return v.marked="keyword",m(ne)}function pf(c){return c=="]"?m():I(ve(Be,"]"))}function Gu(){return I(D("form"),ot,W("{"),D("}"),ve(hf,"}"),O,O)}function hf(){return I(ot,Jt)}function mf(c,h){return c.lastType=="operator"||c.lastType==","||a.test(h.charAt(0))||/[,.]/.test(h.charAt(0))}function yf(c,h,g){return h.tokenize==y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(h.lastType)||h.lastType=="quasi"&&/\{\s*$/.test(c.string.slice(0,c.pos-(g||0)))}return{name:t.name,startState:function(c){var h={tokenize:y,lastType:"sof",cc:[],lexical:new x(-c,0,"block",!1),localVars:t.localVars,context:t.localVars&&new cr(null,null,!1),indented:0};return t.globalVars&&typeof t.globalVars=="object"&&(h.globalVars=t.globalVars),h},token:function(c,h){if(c.sol()&&(h.lexical.hasOwnProperty("align")||(h.lexical.align=!1),h.indented=c.indentation(),A(c,h)),h.tokenize!=w&&c.eatSpace())return null;var g=h.tokenize(c,h);return f=="comment"?g:(h.lastType=f=="operator"&&(p=="++"||p=="--")?"incdec":f,G(h,g,f,p,c))},indent:function(c,h,g){if(c.tokenize==w||c.tokenize==T)return null;if(c.tokenize!=y)return 0;var k=h&&h.charAt(0),S=c.lexical,J;if(!/^\s*else\b/.test(h))for(var K=c.cc.length-1;K>=0;--K){var Ue=c.cc[K];if(Ue==O)S=S.prev;else if(Ue!=Uu&&Ue!=it)break}for(;(S.type=="stat"||S.type=="form")&&(k=="}"||(J=c.cc[c.cc.length-1])&&(J==dr||J==Nr)&&!/^[,\.=+\-*:?[\(]/.test(h));)S=S.prev;e&&S.type==")"&&S.prev.type=="stat"&&(S=S.prev);var Xe=S.type,Ln=k==Xe;return Xe=="vardef"?S.indented+(c.lastType=="operator"||c.lastType==","?S.info.length+1:0):Xe=="form"&&k=="{"?S.indented:Xe=="form"?S.indented+g.unit:Xe=="stat"?S.indented+(mf(c,h)?e||g.unit:0):S.info=="switch"&&!Ln&&t.doubleIndentSwitch!=!1?S.indented+(/^(?:case|default)\b/.test(h)?g.unit:2*g.unit):S.align?S.column+(Ln?0:1):S.indented+(Ln?0:g.unit)},languageData:{indentOnInput:/^\s*(?:case .*?:|default:|\{|\})$/,commentTokens:n?void 0:{line:"//",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]},wordChars:"$"}}}var Nn=Ei({name:"javascript"}),Tp=Ei({name:"json",json:!0}),$p=Ei({name:"json",jsonld:!0}),kp=Ei({name:"typescript",typescript:!0});var Qu=require("obsidian"),Pt=class{content;constructor(e){this.content=e}async render(e,r,n,i){await Qu.MarkdownRenderer.render(e,this.content,r,n,i)}};var Br=class{toMarkdown(){return new Pt(this.toString())}};var Ur=class extends Br{getType(){return"LITERAL"}};var yt=class extends Br{markdownElements;constructor(){super(),this.markdownElements=[]}getType(){return"NON_LITERAL"}addElement(e){if(this.allowElement(e))this.markdownElements.push(e);else throw new Error("Element not allowed in container.")}addText(e){let r=new st(e,!1,!1,!1);return this.addElement(r),this}addBoldText(e){let r=new st(e,!0,!1,!1);return this.addElement(r),this}addCursiveText(e){let r=new st(e,!1,!0,!1);return this.addElement(r),this}addUnderlinedText(e){let r=new st(e,!1,!1,!0);return this.addElement(r),this}addCode(e){let r=new On(e);return this.addElement(r),this}createParagraph(e){let r=new jn(e);return this.addElement(r),r}createHeading(e,r){let n=new Fn(e,r);return this.addElement(n),n}createBlockQuote(){let e=new Bn;return this.addElement(e),e}createCallout(e,r,n=""){let i=new Wr(e,r,n,!1,!1);return this.addElement(i),i}createCollapsibleCallout(e,r,n="",i=!1){let o=new Wr(e,r,n,!0,i);return this.addElement(o),o}createCodeBlock(e,r){let n=new qn(e,r);return this.addElement(n),n}createTable(e,r){let n=new Dn(e,r);return this.addElement(n),n}createList(e){let r=new Un(e);return this.addElement(r),r}},st=class extends Ur{content;bold;cursive;underline;constructor(e,r,n,i){super(),this.content=e,this.bold=r,this.cursive=n,this.underline=i}toString(){let e="",r="";return this.underline&&(e+="<b>",r="</b>"+r),this.bold&&(e+="**",r="**"+r),this.cursive&&(e+="*",r="*"+r),e+this.content+r}},On=class extends Ur{content;constructor(e){super(),this.content=e}toString(){return`\`${this.content}\``}},Dn=class extends Ur{header;body;constructor(e,r){super(),this.header=e,this.body=r}toString(){let e=this.body.length;if(e===0)return"";let r=this.header.length;if(r===0)return"";for(let o of this.body)if(o.length!==r)throw new Error("Table rows are do not contain the same number of columns.");let n=[];for(let o=0;o<r;o++){let s=0;this.header[o].length>s&&(s=this.header[o].length);for(let a of this.body)a[o].length>s&&(s=a[o].length);n.push(s)}let i="";i+="|";for(let o=0;o<r;o++){let s=this.header[o];s+=" ".repeat(n[o]-s.length),i+=" "+s+" |"}i+=`
`,i+="|";for(let o=0;o<r;o++)i+=" "+"-".repeat(n[o])+" |";i+=`
`;for(let o=0;o<e;o++){i+="|";for(let s=0;s<r;s++){let a=this.body[o][s];a+=" ".repeat(n[s]-a.length),i+=" "+a+" |"}i+=`
`}return i}},Fn=class extends yt{level;constructor(e,r){super(),this.level=e,this.addText(r)}toString(){return`${"#".repeat(this.level)} ${this.markdownElements.map(e=>e.toString()).join("")}`}allowElement(e){return e.getType()==="LITERAL"}},jn=class extends yt{constructor(e){super(),this.addText(e)}toString(){return this.markdownElements.map(e=>e.toString()).join("")}allowElement(e){return e.getType()==="LITERAL"}},qn=class extends yt{language;constructor(e,r){super(),this.language=e,this.addText(r)}allowElement(e){return e.getType()==="LITERAL"}toString(){return`\`\`\`${this.language}
${this.markdownElements.map(e=>e.toString()).join("")}
\`\`\``}},Bn=class extends yt{allowElement(e){return!0}toString(){return"> "+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}},Wr=class extends yt{title;type;args;collapsible;collapsed;constructor(e,r,n,i=!1,o=!1){super(),this.title=e,this.type=r,this.args=n,this.collapsible=i,this.collapsed=o}allowElement(e){return!0}toString(){return`> [!${this.type}|${this.args}]${this.collapseChar()} ${this.title}
> `+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}collapseChar(){return this.collapsible?this.collapsed?"-":"+":""}},Un=class t extends yt{ordered;constructor(e){super(),this.ordered=e}allowElement(e){return!0}getPrefix(e){return this.ordered?`${e+1}. `:"- "}toString(){return this.markdownElements.map((e,r)=>e instanceof t?`	${e.toString().replaceAll(`
`,`
	`)}`:`${this.getPrefix(r)}${e.toString().replaceAll(`
`,`
	`)}`).join(`
`)}};var mr=class extends yt{constructor(){super()}toString(){return this.markdownElements.map(e=>e.toString()).join(`

`)}allowElement(e){return!0}};var Xu="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(Xu);var Jr="[",yr="[!",_r="]",Ct={};var Ce=Symbol(),Ee=Symbol("filename"),Zu=Symbol("hmr");var Vr="font-weight: bold",Hr="font-weight: normal";function el(t,e,r){console.warn("hydration_attribute_changed")}function tl(t){console.warn("hydration_html_changed")}function vr(t){console.warn("hydration_mismatch")}function rl(){console.warn("lifecycle_double_unmount")}function Ea(t,e){console.warn("ownership_invalid_mutation")}function Ai(t){console.warn("state_proxy_equality_mismatch")}var _t=Array.isArray,Wn=Array.from,Aa=Object.keys,at=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,Ti=Object.getOwnPropertyDescriptors,Ta=Object.prototype,nl=Array.prototype,Lt=Object.getPrototypeOf;function $a(t){return typeof t=="function"}var vt=()=>{};function $i(t){for(var e=0;e<t.length;e++)t[e]()}var ut=Symbol("$state"),zr=Symbol("$state metadata"),il=Symbol("");function ki(t){return t===this.v}function Ii(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Gr(t){return!Ii(t,this.v)}function ka(){if(!1){let t=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead");throw t.name="Svelte error",t}else throw new Error("bind_invalid_checkbox_value")}function ol(){if(!1){let t=new Error(`derived_references_self
A derived value cannot reference itself recursively`);throw t.name="Svelte error",t}else throw new Error("derived_references_self")}function sl(t){if(!1){let e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function`);throw e.name="Svelte error",e}else throw new Error("effect_in_teardown")}function al(){if(!1){let t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect");throw t.name="Svelte error",t}else throw new Error("effect_in_unowned_derived")}function ul(t){if(!1){let e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)`);throw e.name="Svelte error",e}else throw new Error("effect_orphan")}function ll(){if(!1){let t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops`);throw t.name="Svelte error",t}else throw new Error("effect_update_depth_exceeded")}function cl(){if(!1){let t=new Error(`hydration_failed
Failed to hydrate the application`);throw t.name="Svelte error",t}else throw new Error("hydration_failed")}function fl(t){if(!1){let e=new Error(`props_invalid_value
Cannot do \`bind:${t}={undefined}\` when \`${t}\` has a fallback value`);throw e.name="Svelte error",e}else throw new Error("props_invalid_value")}function dl(t){if(!1){let e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files`);throw e.name="Svelte error",e}else throw new Error("rune_outside_svelte")}function pl(){if(!1){let t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.");throw t.name="Svelte error",t}else throw new Error("state_descriptors_fixed")}function hl(){if(!1){let t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object");throw t.name="Svelte error",t}else throw new Error("state_prototype_fixed")}function ml(){if(!1){let t=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state");throw t.name="Svelte error",t}else throw new Error("state_unsafe_local_read")}function yl(){if(!1){let t=new Error("state_unsafe_mutation\nUpdating state inside a derived is forbidden. If the value should not be reactive, declare it without `$state`");throw t.name="Svelte error",t}else throw new Error("state_unsafe_mutation")}var Ia=new Set;function he(t){return{f:0,v:t,reactions:null,equals:ki,version:0}}function gr(t){return Af(he(t))}function zt(t){let e=he(t);return e.equals=Gr,B!==null&&B.l!==null&&(B.l.s??=[]).push(e),e}function Af(t){return X!==null&&X.f&2&&(ft===null?vl([t]):ft.push(t)),t}function H(t,e){if(X!==null&&Jn()&&X.f&2&&(ft===null||!ft.includes(t))&&yl(),!t.equals(e)&&(t.v=e,t.version=Si(),_l(t,1024),Jn()&&q!==null&&q.f&512&&!(q.f&32)&&(Te!==null&&Te.includes(t)?(Re(q,1024),Yr(q)):Nt===null?gl([t]):Nt.push(t)),!1)){for(let r of Ia)xr(r);Ia.clear()}return e}function _l(t,e){var r=t.reactions;if(r!==null)for(var n=Jn(),i=r.length,o=0;o<i;o++){var s=r[o],a=s.f;if(!(a&1024)&&!(!n&&s===q)){if(!1){Ia.add(s);continue}Re(s,e),a&640&&(a&2?_l(s,2048):Yr(s))}}}function bl(t){q===null&&X===null&&ul(t),X!==null&&X.f&128&&al(),Li&&sl(t)}function xl(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Hn(t,e,r,n=!0){var i=(t&64)!==0,o=q;if(!1)for(;o!==null&&o.f&131072;)o=o.parent;var s={ctx:B,deps:null,nodes_start:null,nodes_end:null,f:t|1024,first:null,fn:e,last:null,next:null,parent:i?null:o,prev:null,teardown:null,transitions:null,version:0};if(!1,r){var a=wr;try{Ma(!0),xr(s),s.f|=16384}catch(l){throw $e(s),l}finally{Ma(a)}}else e!==null&&Yr(s);var u=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null;return!u&&!i&&n&&(o!==null&&xl(s,o),X!==null&&X.f&2&&xl(s,X)),s}function Ci(t){bl("$effect");var e=q!==null&&(q.f&8)!==0&&B!==null&&!B.m;if(!1,e){var r=B;(r.e??=[]).push(t)}else{var n=Le(t);return n}}function La(t){let e=Hn(64,t,!0);return()=>{$e(e)}}function Le(t){return Hn(4,t,!1)}function Ae(t){return Hn(8,t,!0)}function oe(t){return!1,Ae(t)}function Ne(t,e=0){return Hn(24|e,t,!0)}function ge(t,e=!0){return Hn(40,t,!0,e)}function Na(t){var e=t.teardown;if(e!==null){let r=Li,n=X;Pa(!0),Mi(null);try{e.call(null)}finally{Pa(r),Mi(n)}}}function $e(t,e=!0){var r=!1;if((e||t.f&262144)&&t.nodes_start!==null){for(var n=t.nodes_start,i=t.nodes_end;n!==null;){var o=n===i?null:xe(n);n.remove(),n=o}r=!0}zn(t,e&&!r),br(t,0),Re(t,8192);var s=t.transitions;if(s!==null)for(let u of s)u.stop();Na(t);var a=t.parent;a!==null&&t.f&32&&a.first!==null&&Oa(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function Oa(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function Dt(t,e){var r=[];Ri(t,r,!0),Da(r,()=>{$e(t),e&&e()})}function Da(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var i of t)i.out(n)}else e()}function Ri(t,e,r){if(!(t.f&4096)){if(t.f^=4096,t.transitions!==null)for(let s of t.transitions)(s.is_global||r)&&e.push(s);for(var n=t.first;n!==null;){var i=n.next,o=(n.f&32768)!==0||(n.f&32)!==0;Ri(n,e,o?r:!1),n=i}}}function Yt(t){El(t,!0)}function El(t,e){if(t.f&4096){t.f^=4096,Qr(t)&&xr(t);for(var r=t.first;r!==null;){var n=r.next,i=(r.f&32768)!==0||(r.f&32)!==0;El(r,i?e:!1),r=n}if(t.transitions!==null)for(let o of t.transitions)(o.is_global||e)&&o.in()}}var Tf=typeof requestIdleCallback>"u"?t=>setTimeout(t,1):requestIdleCallback,Ni=!1,Oi=!1,Fa=[],ja=[];function Al(){Ni=!1;let t=Fa.slice();Fa=[],$i(t)}function Tl(){Oi=!1;let t=ja.slice();ja=[],$i(t)}function we(t){Ni||(Ni=!0,queueMicrotask(Al)),Fa.push(t)}function $l(t){Oi||(Oi=!0,Tf(Tl)),ja.push(t)}function kl(){Ni&&Al(),Oi&&Tl()}var $f={},kf=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,If=/@(.+):(\d+):(\d+)$/;function Sf(){let t=new Error().stack;if(!t)return null;let e=[];for(let r of t.split(`
`)){let n=kf.exec(r)??If.exec(r);n&&e.push({file:n[1],line:+n[2],column:+n[3]})}return e}function Il(){let t=Sf()?.slice(4);if(!t)return null;for(let e=0;e<t.length;e++){let r=t[e],n=$f[r.file];if(!n){if(e===0)return null;continue}for(let i of n)if(i.start.line<r.line&&i.end.line>r.line)return i.component}return null}var Mf=Symbol("ADD_OWNER");function Sl(t,e){if(e.owners!==null)for(;t;){if(t.owners===null){e.owners=null;break}for(let r of t.owners)e.owners.add(r);t=t.parent}}function Ml(t,e){return t.owners===null?!0:t.owners.has(e)||t.parent!==null&&Ml(t.parent,e)}function Pl(t){return t?.owners?.values().next().value??Pl(t.parent)}var Pf=!1;function Cl(t){if(Pf)return;let e=Il();if(e&&!Ml(t,e)){let r=Pl(t);r[Ee]!==e[Ee]?Ea(e[Ee],r[Ee]):Ea()}}function Kt(t){let e=1026;q===null&&(e|=128);let r={deps:null,deriveds:null,equals:ki,f:e,first:null,fn:t,last:null,reactions:null,v:null,version:0};if(X!==null&&X.f&2){var n=X;n.deriveds===null?n.deriveds=[r]:n.deriveds.push(r)}return r}function Wa(t){let e=Kt(t);return e.equals=Gr,e}function Ua(t){zn(t);var e=t.deriveds;if(e!==null){t.deriveds=null;for(var r=0;r<e.length;r+=1)Cf(e[r])}}var Ba=[];function Ja(t){var e;if(!1)try{Ba.includes(t)&&ol(),Ba.push(t),Ua(t),e=Di(t)}finally{Ba.pop()}else Ua(t),e=Di(t);var r=(Er||t.f&128)&&t.deps!==null?2048:512;Re(t,r),t.equals(e)||(t.v=e,t.version=Si())}function Cf(t){Ua(t),br(t,0),Re(t,8192),t.first=t.last=t.deps=t.reactions=t.fn=null}function Fi(t){if(!1){let e=new Error(`lifecycle_outside_component
\`${t}(...)\` can only be used during component initialisation`);throw e.name="Svelte error",e}else throw new Error("lifecycle_outside_component")}var Ol=0,Of=1,Rl=new WeakSet,ji=Ol,Gn=!1,wr=!1,Li=!1;function Ma(t){wr=t}function Pa(t){Li=t}var Ar=[],Xr=0,X=null;function Mi(t){X=t}var q=null;var ft=null;function vl(t){ft=t}var Te=null,Ve=0,Nt=null;function gl(t){Nt=t}var Dl=0,Er=!1,Va=!1,Df=new Set,B=null;var Je=null;function Si(){return Dl++}function Jn(){return B!==null&&B.l===null}function Qr(t){var e=t.f;if(e&1024)return!0;if(e&2048){var r=t.deps,n=(e&128)!==0;if(r!==null){var i;if(e&256){for(i=0;i<r.length;i++)(r[i].reactions??=[]).push(t);t.f^=256}for(i=0;i<r.length;i++){var o=r[i];if(Qr(o)&&Ja(o),o.version>t.version)return!0;n&&!Er&&!o?.reactions?.includes(t)&&(o.reactions??=[]).push(t)}}n||Re(t,512)}return!1}function Ff(t,e,r){if(!!1||Rl.has(t)||r===null)throw t;let n=[],i=e.fn?.name;i&&n.push(i);let o=r;for(;o!==null;){if(!1){var s=o.function?.[Ee];if(s){let l=s.split("/").pop();n.push(l)}}o=o.p}let a=/Firefox/.test(navigator.userAgent)?"  ":"	";at(t,"message",{value:t.message+`
${n.map(l=>`
${a}in ${l}`).join("")}
`});let u=t.stack;if(u){let l=u.split(`
`),f=[];for(let p=0;p<l.length;p++){let d=l[p];d.includes("svelte/src/internal")||f.push(d)}at(t,"stack",{value:t.stack+f.join(`
`)})}throw Rl.add(t),t}function Di(t){var e=Te,r=Ve,n=Nt,i=X,o=Er,s=ft;Te=null,Ve=0,Nt=null,X=t.f&96?null:t,Er=!wr&&(t.f&128)!==0,ft=null;try{var a=(0,t.fn)(),u=t.deps;if(Te!==null){var l;if(br(t,Ve),u!==null&&Ve>0)for(u.length=Ve+Te.length,l=0;l<Te.length;l++)u[Ve+l]=Te[l];else t.deps=u=Te;if(!Er)for(l=Ve;l<u.length;l++)(u[l].reactions??=[]).push(t)}else u!==null&&Ve<u.length&&(br(t,Ve),u.length=Ve);return a}finally{Te=e,Ve=r,Nt=n,X=i,Er=o,ft=s}}function jf(t,e){let r=e.reactions;if(r!==null){var n=r.indexOf(t);if(n!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[n]=r[i],r.pop())}}r===null&&e.f&2&&(Re(e,2048),e.f&384||(e.f^=256),br(e,0))}function br(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)jf(t,r[n])}function zn(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;$e(r,e),r=n}}function xr(t){var e=t.f;if(!(e&8192)){Re(t,512);var r=t.ctx,n=q,i=B;if(q=t,B=r,!1){var o=Je;Je=t.component_function}try{e&16||zn(t),Na(t);var s=Di(t);t.teardown=typeof s=="function"?s:null,t.version=Dl}catch(a){Ff(a,t,B)}finally{q=n,B=i,!1}}}function Fl(){Xr>1e3&&(Xr=0,ll()),Xr++}function jl(t){var e=t.length;if(e!==0){Fl();var r=wr;wr=!0;try{for(var n=0;n<e;n++){var i=t[n];if(i.first===null&&!(i.f&32))Ll([i]);else{var o=[];ql(i,o),Ll(o)}}}finally{wr=r}}}function Ll(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];!(n.f&12288)&&Qr(n)&&(xr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Oa(n):n.fn=null))}}function qf(){if(Gn=!1,Xr>1001)return;let t=Ar;Ar=[],jl(t),Gn||(Xr=0)}function Yr(t){ji===Ol&&(Gn||(Gn=!0,queueMicrotask(qf)));for(var e=t;e.parent!==null;){e=e.parent;var r=e.f;if(r&32){if(!(r&512))return;Re(e,2048)}}Ar.push(e)}function ql(t,e){var r=t.first,n=[];e:for(;r!==null;){var i=r.f,o=(i&12288)===0,s=(i&32)!==0,a=(i&512)!==0,u=r.first;if(o&&(!s||!a)){if(s&&Re(r,512),i&8){if(!s&&Qr(r)&&(xr(r),u=r.first),u!==null){r=u;continue}}else if(i&4)if(s||a){if(u!==null){r=u;continue}}else n.push(r)}var l=r.next;if(l===null){let d=r.parent;for(;d!==null;){if(t===d)break e;var f=d.next;if(f!==null){r=f;continue e}d=d.parent}}r=l}for(var p=0;p<n.length;p++)u=n[p],e.push(u),ql(u,e)}function Zr(t){var e=ji,r=Ar;try{Fl();let i=[];ji=Of,Ar=i,Gn=!1,jl(r);var n=t?.();return kl(),(Ar.length>0||i.length>0)&&Zr(),Xr=0,n}finally{ji=e,Ar=r}}function L(t){var e=t.f;if(e&8192)return t.v;if(Va&&Df.add(t),X!==null){ft!==null&&ft.includes(t)&&ml();var r=X.deps;Te===null&&r!==null&&r[Ve]===t?Ve++:Te===null?Te=[t]:Te.push(t),Nt!==null&&q!==null&&q.f&512&&!(q.f&32)&&Nt.includes(t)&&(Re(q,1024),Yr(q))}if(e&2){var n=t;Qr(n)&&Ja(n)}return t.v}function me(t){let e=X;try{return X=null,t()}finally{X=e}}var Bf=-3585;function Re(t,e){t.f=t.f&Bf|e}function ke(t,e=!1,r){B={p:B,c:null,e:null,m:!1,s:t,x:null,l:null},e||(B.l={s:null,u:null,r1:[],r2:he(!1)}),!1}function Ie(t){let e=B;if(e!==null){t!==void 0&&(e.x=t);let n=e.e;if(n!==null){e.e=null;for(var r=0;r<n.length;r++)Le(n[r])}B=e.p,!1,e.m=!0}return t||{}}function Ui(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ut in t)Bi(t);else if(!Array.isArray(t))for(let e in t){let r=t[e];typeof r=="object"&&r&&ut in r&&Bi(r)}}}function Bi(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{Bi(t[n],e)}catch{}let r=Lt(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=Ti(r);for(let i in n){let o=n[i].get;if(o)try{o.call(t)}catch{}}}}}if(!1){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;dl(e)},set:n=>{r=n}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function He(t,e=null,r){if(typeof t!="object"||t===null||ut in t)return t;let n=Lt(t);if(n!==Ta&&n!==nl)return t;var i=new Map,o=_t(t),s=he(0),a;if(!1)if(a={parent:e,owners:null},r){let u=r.v?.[zr]?.owners;a.owners=u?new Set(u):null}else a.owners=e===null?B!==null?new Set([B.function]):null:new Set;return new Proxy(t,{defineProperty(u,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&pl();var p=i.get(l);return p===void 0?(p=he(f.value),i.set(l,p)):H(p,He(f.value,a)),!0},deleteProperty(u,l){var f=i.get(l);return f===void 0?l in u&&i.set(l,he(Ce)):(H(f,Ce),Bl(s)),!0},get(u,l,f){if(!1)return a;if(l===ut)return t;var p=i.get(l),d=l in u;if(p===void 0&&(!d||Ze(u,l)?.writable)&&(p=he(He(d?u[l]:Ce,a)),i.set(l,p)),p!==void 0){var y=L(p);return y===Ce?void 0:y}return Reflect.get(u,l,f)},getOwnPropertyDescriptor(u,l){var f=Reflect.getOwnPropertyDescriptor(u,l);if(f&&"value"in f){var p=i.get(l);p&&(f.value=L(p))}else if(f===void 0){var d=i.get(l),y=d?.v;if(d!==void 0&&y!==Ce)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return f},has(u,l){if(l===ut)return!0;var f=i.get(l),p=f!==void 0&&f.v!==Ce||Reflect.has(u,l);if(f!==void 0||q!==null&&(!p||Ze(u,l)?.writable)){f===void 0&&(f=he(p?He(u[l],a):Ce),i.set(l,f));var d=L(f);if(d===Ce)return!1}return p},set(u,l,f,p){var d=i.get(l),y=l in u;if(d===void 0?(!y||Ze(u,l)?.writable)&&(d=he(void 0),H(d,He(f,a)),i.set(l,d)):(y=d.v!==Ce,H(d,He(f,a))),!1){var _=f?.[zr];_&&_?.parent!==a&&Sl(a,_),Cl(a)}if(o&&l==="length")for(var w=f;w<u.length;w+=1){var T=i.get(w+"");T!==void 0&&H(T,Ce)}var E=Reflect.getOwnPropertyDescriptor(u,l);if(E?.set&&E.set.call(p,f),!y){if(o&&typeof l=="string"){var A=i.get("length");if(A!==void 0){var b=Number(l);Number.isInteger(b)&&b>=A.v&&H(A,b+1)}}Bl(s)}return!0},ownKeys(u){L(s);var l=Reflect.ownKeys(u).filter(d=>{var y=i.get(d);return y===void 0||y.v!==Ce});for(var[f,p]of i)p.v!==Ce&&!(f in u)&&l.push(f);return l},setPrototypeOf(){hl()}})}function Bl(t,e=1){H(t,t.v+e)}function Qt(t){return t!==null&&typeof t=="object"&&ut in t?t[ut]:t}function Ul(){let t=Array.prototype,e=Array.__svelte_cleanup;e&&e();let{indexOf:r,lastIndexOf:n,includes:i}=t;t.indexOf=function(o,s){let a=r.call(this,o,s);return a===-1&&r.call(Qt(this),Qt(o),s)!==-1&&Ai("array.indexOf(...)"),a},t.lastIndexOf=function(o,s){let a=n.call(this,o,s??this.length-1);return a===-1&&n.call(Qt(this),Qt(o),s??this.length-1)!==-1&&Ai("array.lastIndexOf(...)"),a},t.includes=function(o,s){let a=i.call(this,o,s);return a||i.call(Qt(this),Qt(o),s)&&Ai("array.includes(...)"),a},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=n,t.includes=i}}var Ha,Wl,Jl,Vl;function Wi(){if(Ha===void 0){Ha=window,Wl=document;var t=Element.prototype,e=Node.prototype;Jl=Ze(e,"firstChild").get,Vl=Ze(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__e=void 0,Text.prototype.__t=void 0,!1}}function ze(t=""){return document.createTextNode(t)}function ae(t){return Jl.call(t)}function xe(t){return Vl.call(t)}function U(t){if(!P)return ae(t);var e=ae(N);return e===null&&(e=N.appendChild(ze())),se(e),e}function wt(t,e){if(!P){var r=ae(t);return r instanceof Comment&&r.data===""?xe(r):r}if(e&&N?.nodeType!==3){var n=ze();return N?.before(n),se(n),n}return N}function z(t,e=1,r=!1){let n=P?N:t;for(;e--;)n=xe(n);if(!P)return n;var i=n.nodeType;if(r&&i!==3){var o=ze();return n?.before(o),se(o),o}return se(n),n}function en(t){t.textContent=""}var P=!1;function Oe(t){P=t}var N;function se(t){if(t===null)throw vr(),Ct;return N=t}function be(){return se(xe(N))}function j(t){if(P){if(xe(N)!==null)throw vr(),Ct;N=t}}function Xt(t=1){if(P){for(var e=t,r=N;e--;)r=xe(r);N=r}}function Yn(){for(var t=0,e=N;;){if(e.nodeType===8){var r=e.data;if(r===_r){if(t===0)return e;t-=1}else(r===Jr||r===yr)&&(t+=1)}var n=xe(e);e.remove(),e=n}}var za=new Set,Ji=new Set;function Ga(t,e,r,n){function i(o){if(n.capture||tn.call(e,o),!o.cancelBubble)return r.call(this,o)}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?we(()=>{e.addEventListener(t,i,n)}):e.addEventListener(t,i,n),i}function Tr(t){for(var e=0;e<t.length;e++)za.add(t[e]);for(var r of Ji)r(t)}function tn(t){var e=this,r=e.ownerDocument,n=t.type,i=t.composedPath?.()||[],o=i[0]||t.target,s=0,a=t.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;u<=l&&(s=u)}if(o=i[s]||t.target,o!==e){at(t,"currentTarget",{configurable:!0,get(){return o||r}});try{for(var f,p=[];o!==null;){var d=o.parentNode||o.host||null;try{var y=o["__"+n];if(y!==void 0&&!o.disabled)if(_t(y)){var[_,...w]=y;_.apply(o,[t,...w])}else y.call(o,t)}catch(T){f?p.push(T):f=T}if(t.cancelBubble||d===e||d===null)break;o=d}if(f){for(let T of p)queueMicrotask(()=>{throw T});throw f}}finally{t.__root=e,o=e}}}var Uf;function Hl(){Uf=void 0}function Kn(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function De(t,e){var r=q;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function te(t,e){var r=(e&1)!==0,n=(e&2)!==0,i,o=!t.startsWith("<!>");return()=>{if(P)return De(N,null),N;i===void 0&&(i=Kn(o?t:"<!>"+t),r||(i=ae(i)));var s=n?document.importNode(i,!0):i.cloneNode(!0);if(r){var a=ae(s),u=s.lastChild;De(a,u)}else De(s,s);return s}}function Zt(t=""){if(!P){var e=ze(t+"");return De(e,e),e}var r=N;return r.nodeType!==3&&(r.before(r=ze()),se(r)),De(r,r),r}function Ya(){if(P)return De(N,null),N;var t=document.createDocumentFragment(),e=document.createComment(""),r=ze();return t.append(e,r),De(e,r),t}function V(t,e){if(P){q.nodes_end=N,be();return}t!==null&&t.before(e)}var Vf=/\r/g;function zl(t){t=t.replace(Vf,"");let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return(e>>>0).toString(36)}function Gl(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}var Hf=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Yl(t){return Hf.includes(t)}var zf=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory"];var Gf={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function Kl(t){return t=t.toLowerCase(),Gf[t]??t}var $m=[...zf,"formNoValidate","isMap","noModule","playsInline","readOnly","value","inert","volume"];var Yf=["wheel","mousewheel","touchstart","touchmove"];function Ql(t){return Yf.includes(t)}var Vi=!0;function le(t,e){e!==(t.__t??=t.nodeValue)&&(t.__t=e,t.nodeValue=e==null?"":e+"")}function Se(t,e){let r=e.anchor??e.target.appendChild(ze());return Xl(t,{...e,anchor:r})}function Qa(t,e){Wi(),e.intro=e.intro??!1;let r=e.target,n=P,i=N;try{for(var o=ae(r);o&&(o.nodeType!==8||o.data!==Jr);)o=xe(o);if(!o)throw Ct;Oe(!0),se(o),be();let s=Xl(t,{...e,anchor:o});if(N===null||N.nodeType!==8||N.data!==_r)throw vr(),Ct;return Oe(!1),s}catch(s){if(s===Ct)return e.recover===!1&&cl(),Wi(),en(r),Oe(!1),Se(t,e);throw s}finally{Oe(n),se(i),Hl()}}var rn=new Map;function Xl(t,{target:e,anchor:r,props:n={},events:i,context:o,intro:s=!0}){Wi();var a=new Set,u=p=>{for(var d=0;d<p.length;d++){var y=p[d];if(!a.has(y)){a.add(y);var _=Ql(y);e.addEventListener(y,tn,{passive:_});var w=rn.get(y);w===void 0?(document.addEventListener(y,tn,{passive:_}),rn.set(y,1)):rn.set(y,w+1)}}};u(Wn(za)),Ji.add(u);var l=void 0,f=La(()=>(ge(()=>{if(o){ke({});var p=B;p.c=o}i&&(n.$$events=i),P&&De(r,null),Vi=s,l=t(r,n)||{},Vi=!0,P&&(q.nodes_end=N),o&&Ie()}),()=>{for(var p of a){e.removeEventListener(p,tn);var d=rn.get(p);--d===0?(document.removeEventListener(p,tn),rn.delete(p)):rn.set(p,d)}Ji.delete(u),Ka.delete(l)}));return Ka.set(l,f),l}var Ka=new WeakMap;function Ge(t){let e=Ka.get(t);!1,e?.()}function Et(t,e,r,n=null,i=!1){P&&be();var o=t,s=null,a=null,u=null,l=i?32768:0;Ne(()=>{if(u===(u=!!e()))return;let f=!1;if(P){let p=o.data===yr;u===p&&(o=Yn(),se(o),Oe(!1),f=!0)}u?(s?Yt(s):s=ge(()=>r(o)),a&&Dt(a,()=>{a=null})):(a?Yt(a):n&&(a=ge(()=>n(o))),s&&Dt(s,()=>{s=null})),f&&Oe(!0)},l),P&&(o=N)}var Qn=null;function Xn(t,e){return e}function td(t,e,r,n){for(var i=[],o=e.length,s=0;s<o;s++)Ri(e[s].e,i,!0);var a=o>0&&i.length===0&&r!==null;if(a){var u=r.parentNode;en(u),u.append(r),n.clear(),er(t,e[0].prev,e[o-1].next)}Da(i,()=>{for(var l=0;l<o;l++){var f=e[l];a||(n.delete(f.k),er(t,f.prev,f.next)),$e(f.e,!a)}})}function tr(t,e,r,n,i,o=null){var s=t,a={flags:e,items:new Map,first:null},u=(e&4)!==0;if(u){var l=t;s=P?se(ae(l)):l.appendChild(ze())}P&&be();var f=null;Ne(()=>{var p=r(),d=_t(p)?p:p==null?[]:Wn(p),y=d.length;let _=!1;if(P){var w=s.data===yr;w!==(y===0)&&(s=Yn(),se(s),Oe(!1),_=!0)}if(P){for(var T=null,E,A=0;A<y;A++){if(N.nodeType===8&&N.data===_r){s=N,_=!0,Oe(!1);break}var b=d[A],x=n(b,A);E=rc(N,a,T,null,b,x,A,i,e),a.items.set(x,E),T=E}y>0&&se(Yn())}P||rd(d,a,s,i,e,n),o!==null&&(y===0?f?Yt(f):f=ge(()=>o(s)):f!==null&&Dt(f,()=>{f=null})),_&&Oe(!0)}),P&&(s=N)}function rd(t,e,r,n,i,o){var s=(i&8)!==0,a=(i&3)!==0,u=t.length,l=e.items,f=e.first,p=f,d,y=null,_,w=[],T=[],E,A,b,x;if(s)for(x=0;x<u;x+=1)E=t[x],A=o(E,x),b=l.get(A),b!==void 0&&(b.a?.measure(),(_??=new Set).add(b));for(x=0;x<u;x+=1){if(E=t[x],A=o(E,x),b=l.get(A),b===void 0){var F=p?p.e.nodes_start:r;y=rc(F,e,y,y===null?e.first:y.next,E,A,x,n,i),l.set(A,y),w=[],T=[],p=y.next;continue}if(a&&nd(b,E,x,i),b.e.f&4096&&(Yt(b.e),s&&(b.a?.unfix(),(_??=new Set).delete(b))),b!==p){if(d!==void 0&&d.has(b)){if(w.length<T.length){var G=T[0],v;y=G.prev;var I=w[0],m=w[w.length-1];for(v=0;v<w.length;v+=1)ec(w[v],G,r);for(v=0;v<T.length;v+=1)d.delete(T[v]);er(e,I.prev,m.next),er(e,y,I),er(e,m,G),p=G,y=m,x-=1,w=[],T=[]}else d.delete(b),ec(b,p,r),er(e,b.prev,b.next),er(e,b,y===null?e.first:y.next),er(e,y,b),y=b;continue}for(w=[],T=[];p!==null&&p.k!==A;)(d??=new Set).add(p),T.push(p),p=p.next;if(p===null)continue;b=p}w.push(b),y=b,p=b.next}if(p!==null||d!==void 0){for(var Pe=d===void 0?[]:Wn(d);p!==null;)Pe.push(p),p=p.next;var _e=Pe.length;if(_e>0){var Rr=i&4&&u===0?r:null;if(s){for(x=0;x<_e;x+=1)Pe[x].a?.measure();for(x=0;x<_e;x+=1)Pe[x].a?.fix()}td(e,Pe,Rr,l)}}s&&we(()=>{if(_!==void 0)for(b of _)b.a?.apply()}),q.first=e.first&&e.first.e,q.last=y&&y.e}function nd(t,e,r,n){n&1&&H(t.v,e),n&2?H(t.i,r):t.i=r}function rc(t,e,r,n,i,o,s,a,u){var l=Qn;try{var f=(u&1)!==0,p=(u&16)===0,d=f?p?zt(i):he(i):i,y=u&2?he(s):s,_={i:y,v:d,k:o,a:null,e:null,prev:r,next:n};return Qn=_,_.e=ge(()=>a(t,d,y),P),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?e.first=_:(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{Qn=l}}function ec(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==n;){var s=xe(o);i.before(o),o=s}}function er(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function id(t,e,r){if(!e||e===zl(String(r??"")))return;let n,i=t.__svelte_meta?.loc;i?n=`near ${i.file}:${i.line}:${i.column}`:Je?.[Ee]&&(n=`in ${Je[Ee]}`),tl(n?.replace(/\//g,"/\u200B"))}function eu(t,e,r,n,i){var o=t,s="",a;Ne(()=>{if(s===(s=e())){P&&be();return}a!==void 0&&($e(a),a=void 0),s!==""&&(a=ge(()=>{if(P){for(var u=N.data,l=be(),f=l;l!==null&&(l.nodeType!==8||l.data!=="");)f=l,l=xe(l);if(l===null)throw vr(),Ct;!1,De(N,f),o=se(l);return}var p=s+"";r?p=`<svg>${p}</svg>`:n&&(p=`<math>${p}</math>`);var d=Kn(p);if((r||n)&&(d=ae(d)),De(ae(d),d.lastChild),r||n)for(;ae(d);)o.before(ae(d));else o.before(d)}))})}function tu(t,e,...r){var n=t,i,o;Ne(()=>{i!==(i=e())&&(o&&($e(o),o=null),i&&(o=ge(()=>i(n,...r))))},32768),P&&(n=N)}function Zn(t,e,r){Le(()=>{var n=me(()=>e(t,r?.())||{});if(r&&n?.update){var i=!1,o={};Ae(()=>{var s=r();Ui(s),i&&Ii(o,s)&&(o=s,n.update(s))}),i=!0}if(n?.destroy)return()=>n.destroy()})}function ru(t,e){if(e){let r=document.body;t.autofocus=!0,we(()=>{document.activeElement===r&&t.focus()})}}function nu(t){P&&ae(t)!==null&&en(t)}var nc=!1;function Hi(){nc||(nc=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(let e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function zi(t){if(P){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;pt(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var i=t.checked;pt(t,"checked",null),t.checked=i}}};t.__on_r=r,$l(r),Hi()}}function pt(t,e,r,n){r=r==null?null:r+"";var i=t.__attributes??={};if(P&&(i[e]=t.getAttribute(e),e==="src"||e==="href"||e==="srcset")){n||sc(t,e,r);return}i[e]!==(i[e]=r)&&(e==="loading"&&(t[il]=r),r===null?t.removeAttribute(e):t.setAttribute(e,r))}function ou(t,e,r,n,i=!1,o){var s=e||{},a=t.tagName==="OPTION";for(var u in e)u in r||(r[u]=null);n!==void 0&&(r.class=r.class?r.class+" "+n:n);var l=ic.get(t.nodeName);l||ic.set(t.nodeName,l=ad(t));var f=t.__attributes??={},p=[];for(let T in r){let E=r[T];if(a&&T==="value"&&E==null){t.value=t.__value="",s[T]=E;continue}var d=s[T];if(E!==d){s[T]=E;var y=T[0]+T[1];if(y!=="$$")if(y==="on"){let A={},b="$$"+T,x=T.slice(2);var _=Yl(x);if(Gl(x)&&(x=x.slice(0,-7),A.capture=!0),!_&&d){if(E!=null)continue;t.removeEventListener(x,s[b],A),s[b]=null}if(E!=null)if(_)t[`__${x}`]=E,Tr([x]);else{let F=function(G){s[T].call(this,G)};e?s[b]=Ga(x,t,F,A):p.push([T,E,()=>s[b]=Ga(x,t,F,A)])}}else if(E==null)f[T]=null,t.removeAttribute(T);else if(T==="style")t.style.cssText=E+"";else if(T==="autofocus")ru(t,!!E);else if(T==="__value"||T==="value")t.value=t[T]=t.__value=E;else{var w=T;i||(w=Kl(w)),l.includes(w)?P&&(w==="src"||w==="href"||w==="srcset")?o||sc(t,w,E):t[w]=E:typeof E!="function"&&pt(t,w,E)}}}return e||we(()=>{if(t.isConnected)for(let[T,E,A]of p)s[T]===E&&A()}),s}var sd=["width","height","draggable"],ic=new Map;function ad(t){for(var e=[],r,n=Lt(t);n.constructor.name!=="Element";){r=Ti(n);for(var i in r)r[i].set&&!sd.includes(i)&&e.push(i);n=Lt(n)}return e}function sc(t,e,r){!1}function iu(t,e){return t===e?!0:new URL(t,document.baseURI).href===new URL(e,document.baseURI).href}function oc(t){return t.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function ud(t,e){var r=oc(t.srcset),n=oc(e??"");return n.length===r.length&&n.every(([i,o],s)=>o===r[s][1]&&(iu(r[s][0],i)||iu(i,r[s][0])))}function su(t,e){var r=t.__className,n=ld(e);P&&t.className===n?t.__className=n:(r!==n||P&&t.className!==n)&&(e==null?t.removeAttribute("class"):t.className=n,t.__className=n)}function ld(t){return t??""}function nn(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}var cd=requestAnimationFrame,fd=()=>performance.now(),tt={tick:t=>cd(t),now:()=>fd(),tasks:new Set};function uc(t){tt.tasks.forEach(e=>{e.c(t)||(tt.tasks.delete(e),e.f())}),tt.tasks.size!==0&&tt.tick(uc)}function lc(t){let e;return tt.tasks.size===0&&tt.tick(uc),{promise:new Promise(r=>{tt.tasks.add(e={c:t,f:r})}),abort(){tt.tasks.delete(e)}}}function Gi(t,e){t.dispatchEvent(new CustomEvent(e))}function md(t){let e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function cc(t){let e={},r=t.split(";");for(let n of r){let[i,o]=n.split(":");if(!i||o===void 0)break;let s=md(i.trim());e[s]=o.trim()}return e}var yd=t=>t;function uu(t,e,r,n){var i=(t&1)!==0,o=(t&2)!==0,s=i&&o,a=(t&4)!==0,u=s?"both":i?"in":"out",l,f=e.inert,p,d,y;function _(){return l??=r()(e,n?.(),{direction:u})}var w={is_global:a,in(){e.inert=f,d?.abort(),p?.abort(),i?(Gi(e,"introstart"),p=au(e,_(),d,1,()=>{Gi(e,"introend"),p?.abort(),p=l=void 0},s?void 0:()=>{p=l=void 0})):y?.()},out(A){d?.abort(),o?(e.inert=!0,Gi(e,"outrostart"),d=au(e,_(),p,0,()=>{Gi(e,"outroend"),d=l=void 0,A?.()},s?void 0:()=>{d=l=void 0}),y=d.reset):A?.()},stop:()=>{p?.abort(),d?.abort()}},T=q;if((T.transitions??=[]).push(w),i&&Vi){let A=a;if(!A){for(var E=T.parent;E&&E.f&32768;)for(;(E=E.parent)&&!(E.f&16););A=!E||(E.f&16384)!==0}A&&Le(()=>{me(()=>w.in())})}}function au(t,e,r,n,i,o){var s=n===1;if($a(e)){var a,u=!1;return we(()=>{if(!u){var x=e({direction:s?"in":"out"});a=au(t,x,r,n,i,o)}}),{abort:()=>{u=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:x=>a.t(x)}}if(r?.deactivate(),!e?.duration)return i?.(),{abort:vt,deactivate:vt,reset:vt,t:()=>n};let{delay:l=0,css:f,tick:p,easing:d=yd}=e;var y=tt.now()+l,_=r?.t(y)??1-n,w=n-_,T=e.duration*Math.abs(w),E=y+T,A,b;return f?we(()=>{var x=[],F=Math.ceil(T/16.666666666666668);if(s&&l>0){let m=Math.ceil(l/16.666666666666668),Pe=cc(f(0,1));for(let _e=0;_e<m;_e+=1)x.push(Pe)}for(var G=0;G<=F;G+=1){var v=_+w*d(G/F),I=f(v,1-v);x.push(cc(I))}A=t.animate(x,{delay:s?0:l,duration:T+(s?l:0),easing:"linear",fill:"forwards"}),A.finished.then(()=>{i?.(),n===1&&A.cancel()}).catch(m=>{if(A.startTime!==null&&A.currentTime!==null)throw m})}):(_===0&&p?.(0,1),b=lc(x=>{if(x>=E)return p?.(n,1-n),i?.(),!1;if(x>=y){var F=_+w*d((x-y)/T);p?.(F,1-F)}return!0})),{abort:()=>{A&&(A.cancel(),A.effect=null),b?.abort(),o?.(),i=void 0,o=void 0},deactivate:()=>{i=void 0,o=void 0},reset:()=>{n===0&&p?.(1,0)},t:x=>{var F=_+w*d((x-y)/T);return Math.min(1,Math.max(0,F))}}}function lu(t,e,r,n=r){t.addEventListener(e,r);let i=t.__on_r;i?t.__on_r=()=>{i(),n()}:t.__on_r=n,Hi()}function ei(t,e,r){lu(t,"input",()=>{!1,r(fc(t)?dc(t.value):t.value)}),Ae(()=>{!1;var n=e();if(P&&t.defaultValue!==t.value){r(t.value);return}fc(t)&&n===dc(t.value)||t.type==="date"&&!n&&!t.value||(t.value=n??"")})}function fc(t){var e=t.type;return e==="number"||e==="range"}function dc(t){return t===""?null:+t}function pc(t,e){return t===e||t?.[ut]===e}function cu(t={},e,r,n){return Le(()=>{var i,o;return Ae(()=>{i=o,o=n?.()||[],me(()=>{t!==r(...o)&&(e(t,...o),i&&pc(r(...i),t)&&e(null,...i))})}),()=>{we(()=>{o&&pc(r(...o),t)&&e(null,...o)})}}),t}function At(t,e,r,n){var i=(r&1)!==0,o=(r&2)!==0,s=(r&8)!==0,a=(r&16)!==0,u=t[e],l=Ze(t,e)?.set,f=n,p=!0,d=()=>(a&&p&&(p=!1,f=me(n)),f);u===void 0&&n!==void 0&&(l&&o&&fl(e),u=d(),l&&l(u));var y;if(o)y=()=>{var x=t[e];return x===void 0?d():(p=!0,x)};else{var _=(i?Kt:Wa)(()=>t[e]);_.f|=65536,y=()=>{var x=L(_);return x!==void 0&&(f=void 0),x===void 0?f:x}}if(!(r&4))return y;if(l){var w=t.$$legacy;return function(x,F){return arguments.length>0?((!o||!F||w)&&l(F?y():x),x):y()}}var T=!1,E=!1,A=zt(u),b=Kt(()=>{var x=y(),F=L(A);return T?(T=!1,E=!0,F):(E=!1,A.v=x)});return i||(b.equals=Gr),function(x,F){var G=L(b);if(Va&&(T=E,y(),L(A)),arguments.length>0){let v=F?L(b):o&&s?He(x):x;return b.equals(v)||(T=!0,H(A,v),L(b)),x}return G}}function hc(t){return new fu(t)}var fu=class{#t;#e;constructor(e){var r=new Map,n=(o,s)=>{var a=zt(s);return r.set(o,a),a};let i=new Proxy({...e.props||{},$$events:{}},{get(o,s){return L(r.get(s)??n(s,Reflect.get(o,s)))},has(o,s){return L(r.get(s)??n(s,Reflect.get(o,s))),Reflect.has(o,s)},set(o,s,a){return H(r.get(s)??n(s,a),a),Reflect.set(o,s,a)}});this.#e=(e.hydrate?Qa:Se)(e.component,{target:e.target,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&Zr(),this.#t=i.$$events;for(let o of Object.keys(this.#e))o==="$set"||o==="$destroy"||o==="$on"||at(this,o,{get(){return this.#e[o]},set(s){this.#e[o]=s},enumerable:!0});this.#e.$set=o=>{Object.assign(i,o)},this.#e.$destroy=()=>{Ge(this.#e)}}$set(e){this.#e.$set(e)}$on(e,r){this.#t[e]=this.#t[e]||[];let n=(...i)=>r.call(this,...i);return this.#t[e].push(n),()=>{this.#t[e]=this.#t[e].filter(i=>i!==n)}}$destroy(){this.#e.$destroy()}};var Ad;typeof HTMLElement=="function"&&(Ad=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(t,e,r){super(),this.$$ctor=t,this.$$s=e,r&&this.attachShadow({mode:"open"})}addEventListener(t,e,r){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(e),this.$$c){let n=this.$$c.$on(t,e);this.$$l_u.set(e,n)}super.addEventListener(t,e,r)}removeEventListener(t,e,r){if(super.removeEventListener(t,e,r),this.$$c){let n=this.$$l_u.get(e);n&&(n(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(n){return i=>{let o=document.createElement("slot");n!=="default"&&(o.name=n),V(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},r=Td(this);for(let n of this.$$s)n in r&&(n==="default"&&!this.$$d.children?(this.$$d.children=t(n),e.default=!0):e[n]=t(n));for(let n of this.attributes){let i=this.$$g_p(n.name);i in this.$$d||(this.$$d[i]=du(i,n.value,this.$$p_d,"toProp"))}for(let n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=hc({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$host:this}}),this.$$me=Ae(()=>{this.$$r=!0;for(let n of Aa(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];let i=du(n,this.$$d[n],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,i)}this.$$r=!1});for(let n in this.$$l)for(let i of this.$$l[n]){let o=this.$$c.$on(n,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(t,e,r){this.$$r||(t=this.$$g_p(t),this.$$d[t]=du(t,r,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),$e(this.$$me),this.$$c=void 0)})}$$g_p(t){return Aa(this.$$p_d).find(e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t)||t}});function du(t,e,r,n){let i=r[t]?.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function Td(t){let e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}var pu=require("obsidian");function Ki(t,e){return(0,pu.setIcon)(t,e),{update(r){(0,pu.setIcon)(t,r)}}}function Cd(t){let e=t-1;return e*e*e+1}function mc(t,{delay:e=0,duration:r=400,easing:n=Cd,axis:i="y"}={}){let o=getComputedStyle(t),s=+o.opacity,a=i==="y"?"height":"width",u=parseFloat(o[a]),l=i==="y"?["top","bottom"]:["left","right"],f=l.map(E=>`${E[0].toUpperCase()}${E.slice(1)}`),p=parseFloat(o[`padding${f[0]}`]),d=parseFloat(o[`padding${f[1]}`]),y=parseFloat(o[`margin${f[0]}`]),_=parseFloat(o[`margin${f[1]}`]),w=parseFloat(o[`border${f[0]}Width`]),T=parseFloat(o[`border${f[1]}Width`]);return{delay:e,duration:r,easing:n,css:E=>`overflow: hidden;opacity: ${Math.min(E*20,1)*s};${a}: ${E*u}px;padding-${l[0]}: ${E*p}px;padding-${l[1]}: ${E*d}px;margin-${l[0]}: ${E*y}px;margin-${l[1]}: ${E*_}px;border-${l[0]}-width: ${E*w}px;border-${l[1]}-width: ${E*T}px;`}}var Rd=(t,e)=>e.messageManager.removeMessage(e.messageWrapper.uuid),Ld=(t,e)=>t.key===" "?e.messageManager.removeMessage(e.messageWrapper.uuid):void 0,Nd=te('<div class="js-engine-message-delete-icon callout-icon" aria-label="remove" role="button" tabindex="0"></div>'),Od=te("<p> </p>"),Dd=te('<pre class="language-none"><code> </code></pre>'),Fd=(t,e)=>H(e,!L(e)),jd=(t,e)=>t.key===" "?H(e,!L(e)):void 0,qd=te("<p> </p> <p> </p>",1),Bd=te('<div class="js-engine-message-detail-content"><p> </p> <p> </p> <!></div>'),Ud=te('<div><div class="js-engine-message-header callout-title"><div class="js-engine-message-icon callout-icon"></div> <span class="js-engine-message-title"> </span> <!></div> <div class="js-engine-message-content callout-content"><!> <!> <div class="js-engine-message-detail"><div class="js-engine-message-detail-row" role="button" tabindex="0"><span>Details</span> <div class="js-engine-message-icon"></div></div> <!></div></div></div>');function $r(t,e){ke(e,!0);let r=At(e,"showDeleteButton",3,!0),n=At(e,"showMessageSource",3,!0),i=gr(!1);var o=Ud();oe(()=>su(o,`js-engine-message callout ${yc(e.messageWrapper.message.type)??""}`));var s=U(o),a=U(s),u=z(a,2),l=U(u);j(u);var f=z(u,2);Et(f,r,A=>{var b=Nd();b.__click=[Rd,e],b.__keydown=[Ld,e],Zn(b,(x,F)=>Ki(x,F),()=>"x"),V(A,b)}),j(s);var p=z(s,2),d=U(p);Et(d,()=>e.messageWrapper.message.content,A=>{var b=Od(),x=U(b);j(b),oe(()=>le(x,e.messageWrapper.message.content)),V(A,b)});var y=z(d,2);Et(y,()=>e.messageWrapper.message.code,A=>{var b=Dd(),x=U(b),F=U(x);j(x),j(b),oe(()=>le(F,e.messageWrapper.message.code)),V(A,b)});var _=z(y,2),w=U(_);w.__click=[Fd,i],w.__keydown=[jd,i];var T=z(U(w),2);j(w);var E=z(w,2);Et(E,()=>L(i),A=>{var b=Bd(),x=U(b),F=U(x);j(x);var G=z(x,2),v=U(G);oe(()=>le(v,`Time: ${e.messageWrapper.time.toISOString()??""}`)),j(G);var I=z(G,2);Et(I,n,m=>{var Pe=qd(),_e=wt(Pe),Rr=U(_e);j(_e);var lr=z(_e,2),cr=U(lr);j(lr),oe(()=>{le(Rr,`Source Name: ${e.messageWrapper.source.name??""}`),le(cr,`Source ID: ${e.messageWrapper.source.id??""}`)}),V(m,Pe)}),j(b),oe(()=>le(F,`Type: ${e.messageWrapper.message.type??""}`)),uu(3,b,()=>mc,()=>({duration:100})),V(A,b)}),j(_),j(p),j(o),oe(()=>{pt(o,"data-callout",e.messageWrapper.message.type),le(l,e.messageWrapper.message.title),pt(w,"aria-expanded",L(i)?"true":"false")}),Zn(a,(A,b)=>Ki(A,b),()=>_c(e.messageWrapper.message.type)),Zn(T,(A,b)=>Ki(A,b),()=>L(i)?"chevron-down":"chevron-right"),V(t,o),Ie()}Tr(["click","keydown"]);function vc(t){return[...t]}function gc(t,e){return(t%e+e)%e}var Wd=te("<button><!></button>");function rr(t,e){ke(e,!0);let r=At(e,"variant",19,()=>"default"),n=At(e,"disabled",3,!1),i=At(e,"tooltip",3,""),o=At(e,"other",19,()=>({})),s=At(e,"onclick",3,()=>{});var a=Wd();let u;var l=U(a);tu(l,()=>e.children),j(a),oe(()=>{u=ou(a,u,{class:"js-engine-button","aria-label":i(),onclick:s(),disabled:n(),...o()}),nn(a,"mod-cta",r()==="primary"),nn(a,"mod-warning",r()==="destructive"),nn(a,"mod-plain",r()==="plain"),nn(a,"disabled",n())}),V(t,a),Ie()}function hu(t){B===null&&Fi("onMount"),B.l!==null?Jd(B).m.push(t):Ci(()=>{let e=me(t);if(typeof e=="function")return e})}function xc(t){B===null&&Fi("onDestroy"),hu(()=>()=>me(t))}function Jd(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}var Vd=te("<p>None</p>"),Hd=te("<h2>Messages</h2> <!> <div></div>",1);function mu(t,e){ke(e,!0);let r=gr(He(e.messageManager.messages.get())),n;hu(()=>{n=e.messageManager.messages.registerListener({callback:a=>{console.log("Messages updated",a),H(r,He(a))}})}),xc(()=>{e.messageManager.messages.unregisterListener(n)});var i=Hd(),o=z(wt(i),2);rr(o,{get variant(){return"destructive"},onclick:()=>e.messageManager.removeAllMessages(),children:(a,u)=>{Xt();var l=Zt("Clear All Messages");V(a,l)},$$slots:{default:!0}});var s=z(o,2);tr(s,21,()=>L(r),a=>a.uuid,(a,u)=>{$r(a,{get messageWrapper(){return L(u)},get messageManager(){return e.messageManager}})},a=>{var u=Vd();V(a,u)}),j(s),V(t,i),Ie()}var wc=require("obsidian");var Xi=class extends wc.Modal{plugin;component;constructor(e,r){super(e),this.plugin=r}onOpen(){this.contentEl.empty(),this.component&&Ge(this.component),this.component=Se(mu,{target:this.contentEl,props:{messageManager:this.plugin.messageManager}})}onClose(){this.contentEl.empty(),this.component&&Ge(this.component)}};var yu=class{listeners;constructor(){this.listeners=[]}registerListener(e){let r=e;return r.uuid=self.crypto.randomUUID(),this.listeners.push(r),r}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(r=>r.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let r of this.listeners)try{r.callback(e)}catch(n){let i=n instanceof Error?n:String(n);console.error(new Error(`Error while notifying listener with UUID ${r.uuid}.`),i)}}},Zi=class extends yu{value;constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}update(e){this.set(e(this.get()))}};var ro=require("obsidian");var zd=["error","warning","success","tip","info"];function yc(t){return`js-engine-message-mod-${t}`}function _c(t){let e=new Map;return e.set("error","zap"),e.set("warning","alert-triangle"),e.set("success","check"),e.set("tip","flame"),e.set("info","info"),e.get(t)??"info"}function Gd(t){return`js-engine-message-indicator-mod-${t}`}var eo=class{type;title;content;code;constructor(e,r,n,i){this.type=e,this.title=r,this.content=n,this.code=i}},sn=class{uuid;source;message;time;constructor(e,r){this.message=e,this.source=r,this.uuid=self.crypto.randomUUID(),this.time=(0,ro.moment)()}},to=class{app;plugin;messages;statusBarItem;messageDisplay;constructor(e,r){this.app=e,this.plugin=r,this.messages=new Zi([])}initStatusBarItem(){this.messageDisplay=new Xi(this.app,this.plugin),this.statusBarItem=this.plugin.addStatusBarItem(),this.statusBarItem.addClass("mod-clickable"),this.statusBarItem.addEventListener("click",()=>{this.messageDisplay?.open()}),this.updateStatusBarItem(),this.messages.registerListener({callback:()=>{this.updateStatusBarItem()}})}addMessage(e,r){let n=new sn(e,r);return this.messages.update(i=>(i.push(n),i)),n}removeMessage(e){this.messages.update(r=>r.filter(n=>n.uuid!==e))}removeAllMessages(){this.messages.set([])}updateStatusBarItem(){if(!this.statusBarItem)return;this.statusBarItem.empty();let e=this.statusBarItem.createEl("div");(0,ro.setIcon)(e,"message-square");let r=this.statusBarItem.createEl("span");r.addClass("js-engine-message-counter"),r.innerText=this.messages.get().length.toString();let n=new Set(Array.from(this.messages.get().values()).map(i=>i.message.type));for(let i of zd)if(n.has(i)){r.addClass(Gd(i));break}n.size===0&&r.addClass("js-engine-message-indicator-mod-info")}getMessagesFromSource(e){let r=this.messages.get();return vc(r.values()).filter(n=>n.source.id===e.id)}};var an=class{apiInstance;_render;initialArgs;renderer;constructor(e,r,n){this.apiInstance=e,this._render=r,this.initialArgs=n}async refresh(...e){let r;try{r=await this._render(...e)}catch(n){console.warn("failed to execute JS",n),n instanceof Error&&(r=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during reactive execution in execution "${this.apiInstance.instanceId.id}"`,n.stack))}this.renderer?.render(r)}initialRender(){this.refresh(...this.initialArgs)}setRenderer(e){this.renderer=e}};var un=class{plugin;container;sourcePath;component;constructor(e,r,n,i){this.plugin=e,this.container=r,this.sourcePath=n,this.component=i}async render(e){if(e!=null){if(this.container.empty(),typeof e=="string"){this.container.innerText=e;return}if(e instanceof mr&&(e=e.toMarkdown()),e instanceof Pt){await e.render(this.plugin.app,this.container,this.sourcePath,this.component);return}if(e instanceof HTMLElement){this.container.append(e);return}if(e instanceof sn){let r=Se($r,{target:this.container,props:{messageWrapper:e,messageManager:this.plugin.messageManager,showDeleteButton:!1,showMessageSource:!1}});this.component.register(()=>{Ge(r)});return}if(e instanceof an){e.setRenderer(this),e.initialRender();return}this.container.innerText=JSON.stringify(e)}}convertToSimpleObject(e){return e instanceof mr?e.toMarkdown().content:e instanceof Pt?e.content:e instanceof HTMLElement?e.outerHTML:e instanceof sn?e.message:e}};var ti=require("obsidian"),Kd=qr(require("obsidian")),no=class{apiInstance;constructor(e){this.apiInstance=e}async execute(e){return await this.apiInstance.plugin.jsEngine.execute(e)}createRenderer(e,r,n){return new un(this.apiInstance.plugin,e,r,n)}async executeFile(e,r){let n=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!n||!(n instanceof ti.TFile))throw new Error(`File ${e} not found.`);let i=r;return i.code=await this.apiInstance.app.vault.read(n),await this.execute(i)}async executeFileSimple(e,r){let n=new ti.Component;n.load();try{return await this.executeFile(e,{component:n,...r})}finally{n.unload()}}async getContextForFile(e){let r=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!r||!(r instanceof ti.TFile))throw new Error(`File ${e} not found.`);let n=this.apiInstance.app.metadataCache.getFileCache(r);return{file:r,metadata:n??void 0,block:void 0}}createExecutionGlobals(e){return{app:this.apiInstance.app,engine:e.engine??this.apiInstance,component:e.component,context:e.context,container:e.container,obsidian:Kd}}};var Lc=qr(ri()),Nc=qr(xu()),ia=qr(Tu()),Oc=qr(Eu()),Dc=qr(lo());var Ru={};Yu(Ru,{AsyncStream:()=>ra,InvalidArgumentError:()=>Z,LengthError:()=>je,Stream:()=>nr,infinite:()=>Wt,math:()=>ap,multi:()=>up,reduce:()=>yo,set:()=>lp,single:()=>fn,summary:()=>cp,transform:()=>fp});var Z=class extends Error{},je=class extends Error{};var kr=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(p){s(p)}}function u(f){try{l(n.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},Tt=function(t){return this instanceof Tt?(this.v=t,this):new Tt(t)},Ec=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(_,w){o.push([d,y,_,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(_){p(o[0][3],_)}}function u(d){d.value instanceof Tt?Promise.resolve(d.value.v).then(l,f):p(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},ce;(function(t){t[t.SHORTEST=0]="SHORTEST",t[t.LONGEST=1]="LONGEST",t[t.STRICT_EQUAL=2]="STRICT_EQUAL"})(ce||(ce={}));function*ir(t,e,...r){if(r.length===0)return;let n=[];for(let i of r)n.push(ni(i));e:for(;;){let i=fn.map(n,u=>u.next()),o=[],s=!0,a=!1;for(let u of i){let l;u.done?(s=!1,l=e):(a=!0,l=u.value),o.push(l)}if(!s&&a)switch(t){case ce.SHORTEST:break e;case ce.STRICT_EQUAL:throw new je("Iterators must have equal lengths")}if(!a)break;yield o}}function or(t,e,...r){return Ec(this,arguments,function*(){if(r.length===0)return yield Tt(void 0);let i=[];for(let o of r)i.push(ii(o));e:for(;;){let o=[];for(let l of i){let f=yield Tt(l.next());o.push(f)}let s=[],a=!0,u=!1;for(let l of o){let f;l.done?(a=!1,f=e):(u=!0,f=l.value),s.push(f)}if(!a&&u)switch(t){case ce.SHORTEST:break e;case ce.STRICT_EQUAL:throw new je("Iterators must have equal lengths")}if(!u)break;yield yield Tt(s)}})}var Ir=class{constructor(){this.addedMap=new Map,this.deletedMap=new Map}addUsage(e,r){this.addedMap.has(e)||this.addedMap.set(e,new Map);let n=this.addedMap.get(e);n.has(r)||n.set(r,0),n.set(r,n.get(r)+1)}deleteUsage(e){this.deletedMap.has(e)?this.deletedMap.set(e,this.deletedMap.get(e)+1):this.deletedMap.set(e,1)}getOwnersCount(e){var r,n;let i=(r=this.deletedMap.get(e))!==null&&r!==void 0?r:0;return nr.of((n=this.addedMap.get(e))!==null&&n!==void 0?n:new Map).map(o=>o[1]).filter(o=>o>i).toValue(o=>o+1,0)}getUsagesCount(e,r=1){var n,i;let o=(n=this.deletedMap.get(e))!==null&&n!==void 0?n:0,s=nr.of((i=this.addedMap.get(e))!==null&&i!==void 0?i:new Map).map(a=>a[1]).map(a=>a-o).filter(a=>a>0).toArray();for(;s.length>r;){let a=yo.toMin(s);s=nr.of(s).map(u=>u-a).filter(u=>u>0).toArray()}return yo.toSum(s)}},fe=class{},ho=class{constructor(e,r){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.iterator=e;for(let n=0;n<r;++n)this.related.push(new Iu(this,n)),this.positions.push(0);this.cacheNextValue()}current(e){let r=this.getPosition(e);return this.cache.get(r)}next(e){let[r,n,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];r===i&&this.cacheNextValue(),this.positions[e.getId()]++,n<Math.min(...this.positions)&&this.cache.delete(n)}valid(e){return this.getPosition(e)<this.lastCacheIndex||this.isValid}getRelatedIterables(){return this.related}cacheNextValue(){let e=this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isValid=!e.done}getPosition(e){return this.positions[e.getId()]}},Iu=class{constructor(e,r){this.parent=e,this.id=r}getId(){return this.id}valid(){return this.parent.valid(this)}next(){let e={value:this.current(),done:!this.valid()};return e.done||this.parent.next(this),e}current(){return this.parent.valid(this)?this.parent.current(this):void 0}*[Symbol.iterator](){for(;this.parent.valid(this);)yield this.parent.current(this),this.parent.next(this)}},mo=class{constructor(e,r){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.isFirstIteration=!0,this.iterator=e;for(let n=0;n<r;++n)this.related.push(new Su(this,n)),this.positions.push(0)}current(e){return kr(this,void 0,void 0,function*(){this.isFirstIteration&&(yield this.cacheNextValue());let r=this.getPosition(e);return this.cache.get(r)})}next(e){return kr(this,void 0,void 0,function*(){let[r,n,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];r===i&&(yield this.cacheNextValue()),this.positions[e.getId()]++,n<Math.min(...this.positions)&&this.cache.delete(n)})}valid(e){return kr(this,void 0,void 0,function*(){return this.isFirstIteration&&(yield this.cacheNextValue()),this.getPosition(e)<this.lastCacheIndex||this.isValid})}getRelatedIterables(){return this.related}cacheNextValue(){return kr(this,void 0,void 0,function*(){let e=yield this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isFirstIteration=!1,this.isValid=!e.done})}getPosition(e){return this.positions[e.getId()]}},Su=class{constructor(e,r){this.parent=e,this.id=r}getId(){return this.id}valid(){return kr(this,void 0,void 0,function*(){return yield this.parent.valid(this)})}next(){return kr(this,void 0,void 0,function*(){let e={value:yield this.current(),done:!(yield this.valid())};return e.done||(yield this.parent.next(this)),e})}current(){return kr(this,void 0,void 0,function*(){return(yield this.parent.valid(this))?yield this.parent.current(this):void 0})}[Symbol.asyncIterator](){return Ec(this,arguments,function*(){for(;yield Tt(this.parent.valid(this));)yield yield Tt(yield Tt(this.parent.current(this))),yield Tt(this.parent.next(this))})}};var oi=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},ye=function(t){return this instanceof ye?(this.v=t,this):new ye(t)},si=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(_,w){o.push([d,y,_,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(_){p(o[0][3],_)}}function u(d){d.value instanceof ye?Promise.resolve(d.value.v).then(l,f):p(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*dn(...t){for(let e of ir(ce.SHORTEST,void 0,...t))yield e}function pn(...t){return si(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=oi(or(ce.SHORTEST,void 0,...t)),u;u=yield ye(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ye(o)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield ye(i.call(a)))}finally{if(n)throw n.error}}})}function*_o(t,...e){for(let r of ir(ce.LONGEST,t,...e))yield r}function vo(t,...e){return si(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=oi(or(ce.LONGEST,t,...e)),l;l=yield ye(u.next()),n=l.done,!n;){s=l.value,a=!1;try{yield yield ye(s)}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield ye(o.call(u)))}finally{if(i)throw i.error}}})}function*go(...t){for(let e of ir(ce.LONGEST,void 0,...t))yield e}function xo(...t){return si(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=oi(or(ce.LONGEST,void 0,...t)),u;u=yield ye(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ye(o)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield ye(i.call(a)))}finally{if(n)throw n.error}}})}function*hn(...t){for(let e of ir(ce.STRICT_EQUAL,void 0,...t))yield e}function mn(...t){return si(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=oi(or(ce.STRICT_EQUAL,void 0,...t)),u;u=yield ye(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ye(o)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield ye(i.call(a)))}finally{if(n)throw n.error}}})}function*wo(...t){for(let e of t)for(let r of R(e))yield r}function bo(...t){return si(this,arguments,function*(){var r,n,i,o;for(let l of t)try{for(var s=!0,a=(n=void 0,oi(C(l))),u;u=yield ye(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ye(o)}finally{s=!0}}}catch(f){n={error:f}}finally{try{!s&&!r&&(i=a.return)&&(yield ye(i.call(a)))}finally{if(n)throw n.error}}})}var Me=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(p){s(p)}}function u(f){try{l(n.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},Eo=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}};function Ke(t,e,r){let n=r;for(let i of R(t))n=e(n,i);return n}function Qe(t,e,r){var n,i,o,s;return Me(this,void 0,void 0,function*(){let a=r;try{for(var u=!0,l=Eo(C(t)),f;f=yield l.next(),n=f.done,!n;){s=f.value,u=!1;try{a=yield e(a,s)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield o.call(l))}finally{if(i)throw i.error}}return a})}function Ao(t){let[e,r]=Ke(t,(n,i)=>{let[o,s]=n;return[o+1,s+Number(i)]},[0,0]);return e?r/e:void 0}function To(t){return Me(this,void 0,void 0,function*(){let[e,r]=yield Qe(t,(n,i)=>{let[o,s]=n;return[o+1,s+Number(i)]},[0,0]);return e?r/e:void 0})}function $o(t,e){return e!==void 0?Ke(t,(r,n)=>e(n)>e(r??n)?n:r??n):Ke(t,(r,n)=>{let i=r??n,o=n;return i>=o?i:o})}function ko(t,e){return Me(this,void 0,void 0,function*(){return e!==void 0?yield Qe(t,(r,n)=>Me(this,void 0,void 0,function*(){return(yield e(n))>(yield e(r??n))?n:r??n})):yield Qe(t,(r,n)=>{let i=r??n,o=n;return i>=o?i:o})})}function Io(t,e){return e!==void 0?Ke(t,(r,n)=>e(n)<e(r??n)?n:r??n):Ke(t,(r,n)=>{let i=r??n,o=n;return i<=o?i:o})}function So(t,e){return Me(this,void 0,void 0,function*(){return e!==void 0?yield Qe(t,(r,n)=>Me(this,void 0,void 0,function*(){return(yield e(n))<(yield e(r??n))?n:r??n})):yield Qe(t,(r,n)=>{let i=r??n,o=n;return i<=o?i:o})})}function ai(t,e){let r=e!==void 0?e:n=>n;return Ke(t,(n,i)=>{var o,s,a,u;return n=n,[r(i)<=r((o=n[0])!==null&&o!==void 0?o:i)?i:(s=n[0])!==null&&s!==void 0?s:i,r(i)>=r((a=n[1])!==null&&a!==void 0?a:i)?i:(u=n[1])!==null&&u!==void 0?u:i]},[void 0,void 0])}function ui(t,e){return Me(this,void 0,void 0,function*(){let r=e!==void 0?e:n=>n;return yield Qe(t,(n,i)=>Me(this,void 0,void 0,function*(){var o,s,a,u;return n=n,[(yield r(i))<=(yield r((o=n[0])!==null&&o!==void 0?o:i))?i:(s=n[0])!==null&&s!==void 0?s:i,(yield r(i))>=(yield r((a=n[1])!==null&&a!==void 0?a:i))?i:(u=n[1])!==null&&u!==void 0?u:i]}),[void 0,void 0])})}function Mo(t){let[e,r]=ai(sr(t,n=>Number(n)));return(r??0)-(e??0)}function Po(t){return Me(this,void 0,void 0,function*(){let[e,r]=yield ui(kt(t,n=>Number(n)));return(r??0)-(e??0)})}function Co(t){return Ke(t,(e,r)=>e+Number(r),0)}function Ro(t){return Me(this,void 0,void 0,function*(){return yield Qe(t,(e,r)=>e+Number(r),0)})}function Lo(t){return Ke(t,(e,r)=>(e??1)*r)}function No(t){return Me(this,void 0,void 0,function*(){return yield Qe(t,(e,r)=>(e??1)*r)})}function Sr(t){switch(!0){case t instanceof Array:return t.length;case $t(t):return t.length;case t instanceof Set:return t.size;case t instanceof Map:return t.size}return Ke(t,e=>e+1,0)}function yn(t){return Me(this,void 0,void 0,function*(){switch(!0){case t instanceof Array:case $t(t):case t instanceof Set:case t instanceof Map:return Sr(t)}return yield Qe(t,e=>e+1,0)})}function Oo(t){for(let e of R(t))return e;throw new je("Collection is empty")}function Do(t){var e,r,n,i;return Me(this,void 0,void 0,function*(){try{for(var o=!0,s=Eo(C(t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{return i}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}throw new je("Collection is empty")})}function Fo(t){let e=!0,r;for(let n of R(t))r=n,e=!1;if(e)throw new je("Collection is empty");return r}function jo(t){var e,r,n,i;return Me(this,void 0,void 0,function*(){let o=!0,s;try{for(var a=!0,u=Eo(C(t)),l;l=yield u.next(),e=l.done,!e;){i=l.value,a=!1;try{s=i,o=!1}finally{a=!0}}}catch(f){r={error:f}}finally{try{!a&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(r)throw r.error}}if(o)throw new je("Collection is empty");return s})}function qo(t){let e=fe,r=fe;for(let n of R(t))e===fe&&(e=n),r=n;if(e===fe)throw new je("Collection is empty");return[e,r]}function Bo(t){var e,r,n,i;return Me(this,void 0,void 0,function*(){let o=fe,s=fe;try{for(var a=!0,u=Eo(C(t)),l;l=yield u.next(),e=l.done,!e;){i=l.value,a=!1;try{let f=i;o===fe&&(o=f),s=f}finally{a=!0}}}catch(f){r={error:f}}finally{try{!a&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(r)throw r.error}}if(o===fe)throw new je("Collection is empty");return[o,s]})}var ht=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(p){s(p)}}function u(f){try{l(n.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},Ft=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}};function Uo(t,e){for(let r of R(t))if(!e(r))return!1;return!0}function Wo(t,e){var r,n,i,o;return ht(this,void 0,void 0,function*(){try{for(var s=!0,a=Ft(C(t)),u;u=yield a.next(),r=u.done,!r;){o=u.value,s=!1;try{if(!(yield e(o)))return!1}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return!0})}function Jo(t){let e=new Set;for(let r of R(t)){if(e.has(r))return!1;e.add(r)}return!0}function Vo(t){var e,r,n,i;return ht(this,void 0,void 0,function*(){let o=new Set;try{for(var s=!0,a=Ft(C(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let l=i;if(o.has(l))return!1;o.add(l)}finally{s=!0}}}catch(l){r={error:l}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return!0})}function Ho(t,e){for(let r of R(t))if(e(r))return!0;return!1}function zo(t,e){var r,n,i,o;return ht(this,void 0,void 0,function*(){try{for(var s=!0,a=Ft(C(t)),u;u=yield a.next(),r=u.done,!r;){o=u.value,s=!1;try{if(yield e(o))return!0}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return!1})}function Go(t,e,r){if(e<0)return!1;r===void 0&&(r=i=>!!i);let n=0;for(let i of R(t))if(r(i)&&(n++,n>e))return!1;return n===e}function Yo(t,e,r){var n,i,o,s;return ht(this,void 0,void 0,function*(){if(e<0)return!1;r===void 0&&(r=p=>!!p);let a=0;try{for(var u=!0,l=Ft(C(t)),f;f=yield l.next(),n=f.done,!n;){s=f.value,u=!1;try{if((yield r(s))&&(a++,a>e))return!1}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield o.call(l))}finally{if(i)throw i.error}}return a===e})}function Ac(t){for(let e of R(t))return!1;return!0}function Tc(t){var e,r,n,i;return ht(this,void 0,void 0,function*(){try{for(var o=!0,s=Ft(C(t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let u=i;return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function qe(t){return t==null?!1:typeof t[Symbol.iterator]=="function"}function jt(t){return t==null?!1:typeof t[Symbol.asyncIterator]=="function"}function nt(t){return t==null?!1:t.next!==void 0&&typeof t.next=="function"}function Ko(t){for(let[e,r]of qt(R(t)))if(e<r)return!1;return!0}function Qo(t){var e,r,n,i;return ht(this,void 0,void 0,function*(){try{for(var o=!0,s=Ft(Mr(C(t))),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let[u,l]=i;if(u<l)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function Xo(t){for(let[e,r]of qt(R(t)))if(e>r)return!1;return!0}function Zo(t){var e,r,n,i;return ht(this,void 0,void 0,function*(){try{for(var o=!0,s=Ft(Mr(C(t))),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let[u,l]=i;if(u>l)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function $t(t){return typeof t=="string"||t instanceof String}function es(t,e){for(let r of R(t))if(e(r))return!1;return!0}function ts(t,e){var r,n,i,o;return ht(this,void 0,void 0,function*(){try{for(var s=!0,a=Ft(C(t)),u;u=yield a.next(),r=u.done,!r;){o=u.value,s=!1;try{if(yield e(o))return!1}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return!0})}function rs(...t){try{for(let e of hn(...t))for(let[r,n]of qt(e))if(r!==n)return!1}catch{return!1}return!0}function ns(...t){var e,r,n,i;return ht(this,void 0,void 0,function*(){try{try{for(var o=!0,s=Ft(mn(...t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let u=i;for(let[l,f]of qt(u))if(l!==f)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}}catch{return!1}return!0})}function is(...t){if(t.length<=1)return!0;let e=t.map(r=>Sr(r));return new Set(e).size===1}function os(...t){return ht(this,void 0,void 0,function*(){if(t.length<=1)return!0;let e=yield kt(t,r=>ht(this,void 0,void 0,function*(){return yield yn(r)}));return new Set(yield mt(e)).size===1})}var Pu=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(p){s(p)}}function u(f){try{l(n.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},It=function(t){return this instanceof It?(this.v=t,this):new It(t)},Mu=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(_,w){o.push([d,y,_,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(_){p(o[0][3],_)}}function u(d){d.value instanceof It?Promise.resolve(d.value.v).then(l,f):p(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},ss=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}};function R(t){if(qe(t))return t;if(nt(t))return{[Symbol.iterator](){return t}};if(typeof t=="object"&&t!==null)return function*(){for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(yield[e,t[e]])}();throw new Z("Given collection is not iterable or iterator.")}function C(t){if(jt(t))return t;if(nt(t))return{[Symbol.asyncIterator](){return Mu(this,arguments,function*(){for(;;){let r=yield It(t.next());if(r.done)return yield It(void 0);yield yield It(r.value)}})}};if(typeof t=="object"&&t!==null&&(t=R(t)),qe(t))return{[Symbol.asyncIterator](){return Mu(this,arguments,function*(){for(let r of t)yield yield It(r)})}};throw new Z("Given collection is not async iterable or iterator.")}function ni(t){if(nt(t))return t;if(qe(t))return function*(){for(let e of t)yield e}();throw new Z("Given collection is not iterable or iterator.")}function ii(t){if((nt(t)||qe(t))&&(t=C(t)),jt(t))return function(){return Mu(this,arguments,function*(){var e,r,n,i;try{for(var o=!0,s=ss(t),a;a=yield It(s.next()),e=a.done,!e;){i=a.value,o=!1;try{yield yield It(i)}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield It(n.call(s)))}finally{if(r)throw r.error}}})}();throw new Z("Given collection is not iterable or iterator.")}function Bt(t){let e=[];for(let r of R(t))e.push(r);return e}function mt(t){var e,r,n,i;return Pu(this,void 0,void 0,function*(){let o=[];try{for(var s=!0,a=ss(C(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let l=i;o.push(l)}finally{s=!0}}}catch(l){r={error:l}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}function as(t){let e=new Map;for(let[r,n]of R(t))e.set(r,n);return e}function us(t){var e,r,n,i;return Pu(this,void 0,void 0,function*(){let o=new Map;try{for(var s=!0,a=ss(C(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let[l,f]=i;o.set(l,f)}finally{s=!0}}}catch(l){r={error:l}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}function ls(t){let e=new Set;for(let r of R(t))e.add(r);return e}function cs(t){var e,r,n,i;return Pu(this,void 0,void 0,function*(){let o=new Set;try{for(var s=!0,a=ss(C(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let l=i;o.add(l)}finally{s=!0}}}catch(l){r={error:l}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}function _n(t,e){return new ho(ni(t),e).getRelatedIterables()}function vn(t,e){return new mo(ii(t),e).getRelatedIterables()}var np=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(p){s(p)}}function u(f){try{l(n.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},ie=function(t){return this instanceof ie?(this.v=t,this):new ie(t)},gn=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},xn=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(_,w){o.push([d,y,_,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(_){p(o[0][3],_)}}function u(d){d.value instanceof ie?Promise.resolve(d.value.v).then(l,f):p(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},$c=function(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:ie(t[i](s)),done:i==="return"}:o?o(s):s}:o}};function*Pr(t,e){let r=new Set;if(t instanceof Map){e===void 0&&(e=n=>n[1]);for(let n of t){let i=e(n);r.has(i)||(yield n,r.add(i))}}else{e===void 0&&(e=n=>n);for(let n of R(t)){let i=e(n);r.has(i)||(yield n,r.add(i))}}}function wn(t,e){return xn(this,arguments,function*(){var n,i,o,s;let a=new Set;if(t instanceof Map)for(let p of Pr(t,e))yield yield ie(yield ie(p));else{e===void 0&&(e=p=>p);try{for(var u=!0,l=gn(C(t)),f;f=yield ie(l.next()),n=f.done,!n;){s=f.value,u=!1;try{let p=s,d=e(p);a.has(d)||(yield yield ie(p),a.add(d))}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield ie(o.call(l)))}finally{if(i)throw i.error}}}})}function*fs(...t){yield*bn(t.length,...t)}function ds(...t){return xn(this,arguments,function*(){yield ie(yield*$c(gn(En(t.length,...t))))})}function*bn(t,...e){let r=new Ir,n=ir(ce.LONGEST,fe,...e);for(let i of n)for(let[o,s]of Ut(i))s!==fe&&(r.addUsage(s,`${o}`),r.getOwnersCount(s)===t&&(yield s,r.deleteUsage(s)))}function En(t,...e){return xn(this,arguments,function*(){var n,i,o,s;let a=new Ir,u=or(ce.LONGEST,fe,...e);try{for(var l=!0,f=gn(u),p;p=yield ie(f.next()),n=p.done,!n;){s=p.value,l=!1;try{let d=s;for(let[y,_]of Ut(d))_!==fe&&(a.addUsage(_,`${y}`),a.getOwnersCount(_)===t&&(yield yield ie(_),a.deleteUsage(_)))}finally{l=!0}}}catch(d){i={error:d}}finally{try{!l&&!n&&(o=f.return)&&(yield ie(o.call(f)))}finally{if(i)throw i.error}}})}function*ps(...t){let e=new Ir,r=new Set,n=ir(ce.LONGEST,fe,...t);for(let i of n)for(let[o,s]of Ut(i))s!==fe&&(e.addUsage(s,`${o}`),r.add(s),e.getOwnersCount(s)===t.length&&e.deleteUsage(s));for(let i of r)for(let o of fn.repeat(i,e.getUsagesCount(i)))yield o}function hs(...t){return xn(this,arguments,function*(){var r,n,i,o;let s=new Ir,a=new Set,u=or(ce.LONGEST,fe,...t);try{for(var l=!0,f=gn(u),p;p=yield ie(f.next()),r=p.done,!r;){o=p.value,l=!1;try{let d=o;for(let[y,_]of Ut(d))_!==fe&&(s.addUsage(_,`${y}`),a.add(_),s.getOwnersCount(_)===t.length&&s.deleteUsage(_))}finally{l=!0}}}catch(d){n={error:d}}finally{try{!l&&!r&&(i=f.return)&&(yield ie(i.call(f)))}finally{if(n)throw n.error}}for(let d of a)for(let y of fn.repeat(d,s.getUsagesCount(d)))yield yield ie(y)})}function*ms(...t){yield*bn(1,...t)}function ys(...t){return xn(this,arguments,function*(){yield ie(yield*$c(gn(En(1,...t))))})}function*_s(...t){if(t.length===0)return;if(t.length===1){for(let n of R(t[0]))yield[n];return}let r=Bt(sr(t,n=>Bt(n))).reduce((n,i)=>n.flatMap(o=>i.map(s=>[...o,s])),[[]]);for(let n of r)yield n}function vs(...t){return xn(this,arguments,function*(){var r,n,i,o;if(t.length===0)return yield ie(void 0);if(t.length===1){try{for(var s=!0,a=gn(C(t[0])),u;u=yield ie(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ie([o])}finally{s=!0}}}catch(p){n={error:p}}finally{try{!s&&!r&&(i=a.return)&&(yield ie(i.call(a)))}finally{if(n)throw n.error}}return yield ie(void 0)}let f=(yield ie(mt(kt(t,p=>np(this,void 0,void 0,function*(){return yield mt(p)}))))).reduce((p,d)=>p.flatMap(y=>d.map(_=>[...y,_])),[[]]);for(let p of f)yield yield ie(p)})}var ue=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},$=function(t){return this instanceof $?(this.v=t,this):new $(t)},de=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(_,w){o.push([d,y,_,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(_){p(o[0][3],_)}}function u(d){d.value instanceof $?Promise.resolve(d.value.v).then(l,f):p(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*sr(t,e){for(let r of R(t))yield e(r)}function kt(t,e){return de(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=ue(C(t)),l;l=yield $(u.next()),n=l.done,!n;){s=l.value,a=!1;try{yield yield $(yield $(e(s)))}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield $(o.call(u)))}finally{if(i)throw i.error}}})}function*gs(t,e){for(let[r,n]of dn(t,e))n&&(yield r)}function xs(t,e){return de(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=ue(pn(t,e)),l;l=yield $(u.next()),n=l.done,!n;){s=l.value,a=!1;try{let[f,p]=s;p&&(yield yield $(f))}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield $(o.call(u)))}finally{if(i)throw i.error}}})}function*ws(t,e){let r=!0;for(let n of R(t)){if(r){if(!e(n)){r=!1,yield n;continue}continue}yield n}}function bs(t,e){return de(this,arguments,function*(){var n,i,o,s;let a=!0;try{for(var u=!0,l=ue(C(t)),f;f=yield $(l.next()),n=f.done,!n;){s=f.value,u=!1;try{let p=s;if(a){if(!(yield $(e(p)))){a=!1,yield yield $(p);continue}continue}yield yield $(p)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield $(o.call(l)))}finally{if(i)throw i.error}}})}function*Es(t,e){for(let r of R(t))if(e(r))yield r;else break}function As(t,e){return de(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=ue(C(t)),l;l=yield $(u.next()),n=l.done,!n;){s=l.value,a=!1;try{let f=s;if(yield $(e(f)))yield yield $(f);else break}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield $(o.call(u)))}finally{if(i)throw i.error}}})}function*kc(t,e){if(e<0)throw new Z(`Number of repetitions cannot be negative: ${e}`);for(let r=e;r>0;--r)yield t}function Ic(t,e){return de(this,arguments,function*(){if(e<0)throw new Z(`Number of repetitions cannot be negative: ${e}`);let n=yield $(t);for(let i=e;i>0;--i)yield yield $(n)})}function*Ts(t,e){for(let r of R(t)){let n=e(r,e);if(qe(n))for(let i of R(n))yield i;else yield n}}function $s(t,e){return de(this,arguments,function*(){var n,i,o,s,a,u,l,f;try{for(var p=!0,d=ue(C(t)),y;y=yield $(d.next()),n=y.done,!n;){s=y.value,p=!1;try{let A=yield $(e(s,e));if(qe(A)||jt(A))try{for(var _=!0,w=(u=void 0,ue(C(A))),T;T=yield $(w.next()),a=T.done,!a;){f=T.value,_=!1;try{yield yield $(f)}finally{_=!0}}}catch(b){u={error:b}}finally{try{!_&&!a&&(l=w.return)&&(yield $(l.call(w)))}finally{if(u)throw u.error}}else yield yield $(A)}finally{p=!0}}}catch(E){i={error:E}}finally{try{!p&&!n&&(o=d.return)&&(yield $(o.call(d)))}finally{if(i)throw i.error}}})}function*li(t,e=1/0){if(e<1){for(let r of R(t))t instanceof Map&&(r=r[1]),yield r;return}for(let r of R(t))if(t instanceof Map&&(r=r[1]),(qe(r)||nt(r))&&!$t(r))for(let n of li(r,e-1))yield n;else yield r}function ci(t,e=1/0){return de(this,arguments,function*(){var n,i,o,s,a,u,l,f,p,d,y,_;if(e<1){try{for(var w=!0,T=ue(C(t)),E;E=yield $(T.next()),n=E.done,!n;){s=E.value,w=!1;try{let I=s;t instanceof Map&&(I=I[1]),yield yield $(I)}finally{w=!0}}}catch(I){i={error:I}}finally{try{!w&&!n&&(o=T.return)&&(yield $(o.call(T)))}finally{if(i)throw i.error}}return yield $(void 0)}try{for(var A=!0,b=ue(C(t)),x;x=yield $(b.next()),a=x.done,!a;){f=x.value,A=!1;try{let I=f;if(t instanceof Map&&(I=I[1]),(jt(I)||qe(I)||nt(I))&&!$t(I))try{for(var F=!0,G=(d=void 0,ue(ci(I,e-1))),v;v=yield $(G.next()),p=v.done,!p;){_=v.value,F=!1;try{yield yield $(_)}finally{F=!0}}}catch(m){d={error:m}}finally{try{!F&&!p&&(y=G.return)&&(yield $(y.call(G)))}finally{if(d)throw d.error}}else yield yield $(I)}finally{A=!0}}}catch(I){u={error:I}}finally{try{!A&&!a&&(l=b.return)&&(yield $(l.call(b)))}finally{if(u)throw u.error}}})}function*ks(t,e){for(let r of R(t))e(r)&&(yield r)}function Is(t,e){return de(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=ue(C(t)),l;l=yield $(u.next()),n=l.done,!n;){s=l.value,a=!1;try{let f=s;(yield $(e(f)))&&(yield yield $(f))}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield $(o.call(u)))}finally{if(i)throw i.error}}})}function*An(t,e,r,n=!0){if(e<1)throw new Z(`Chunk size must be \u2265 1. Got ${e}`);if(r>=e)throw new Z("Overlap size must be less than chunk size");let i=[],o=!1;for(let s of R(t))o=!1,i.push(s),i.length===e&&(yield i,i=i.slice(e-r),o=!0);!o&&i.length>0&&n&&(yield i)}function Tn(t,e,r,n=!0){return de(this,arguments,function*(){var o,s,a,u;if(e<1)throw new Z(`Chunk size must be \u2265 1. Got ${e}`);if(r>=e)throw new Z("Overlap size must be less than chunk size");let l=[],f=!1;try{for(var p=!0,d=ue(C(t)),y;y=yield $(d.next()),o=y.done,!o;){u=y.value,p=!1;try{let _=u;f=!1,l.push(_),l.length===e&&(yield yield $(l),l=l.slice(e-r),f=!0)}finally{p=!0}}}catch(_){s={error:_}}finally{try{!p&&!o&&(a=d.return)&&(yield $(a.call(d)))}finally{if(s)throw s.error}}!f&&l.length>0&&n&&(yield yield $(l))})}function*Ss(t,e){for(let r of An(t,e,0))yield r}function Ms(t,e){return de(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=ue(Tn(t,e,0)),l;l=yield $(u.next()),n=l.done,!n;){s=l.value,a=!1;try{yield yield $(s)}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield $(o.call(u)))}finally{if(i)throw i.error}}})}function*qt(t){let e=An(t,2,1,!1);for(let r of e)yield r}function Mr(t){return de(this,arguments,function*(){var r,n,i,o;let s=Tn(t,2,1,!1);try{for(var a=!0,u=ue(s),l;l=yield $(u.next()),r=l.done,!r;){o=l.value,a=!1;try{yield yield $(o)}finally{a=!0}}}catch(f){n={error:f}}finally{try{!a&&!r&&(i=u.return)&&(yield $(i.call(u)))}finally{if(n)throw n.error}}})}function*Ps(t,e){if(e<0)throw new Z(`Limit must be \u2265 0. Got ${e}`);let r=0;for(let n of R(t)){if(r>=e)return;yield n,++r}}function Cs(t,e){return de(this,arguments,function*(){var n,i,o,s;if(e<0)throw new Z(`Limit must be \u2265 0. Got ${e}`);let a=0;try{for(var u=!0,l=ue(C(t)),f;f=yield $(l.next()),n=f.done,!n;){s=f.value,u=!1;try{let p=s;if(a>=e)return yield $(void 0);yield yield $(p),++a}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield $(o.call(l)))}finally{if(i)throw i.error}}})}function*Ut(t){let e=0;for(let r of R(t))yield[e++,r]}function Rs(t){return de(this,arguments,function*(){var r,n,i,o;let s=0;try{for(var a=!0,u=ue(C(t)),l;l=yield $(u.next()),r=l.done,!r;){o=l.value,a=!1;try{let f=o;yield yield $([s++,f])}finally{a=!0}}}catch(f){n={error:f}}finally{try{!a&&!r&&(i=u.return)&&(yield $(i.call(u)))}finally{if(n)throw n.error}}})}function*Ls(t,e=0,r,n=1){if(e<0)throw new Z("Parameter 'start' cannot be negative");if(r!==void 0&&r<0)throw new Z("Parameter 'count' cannot be negative");if(n<=0)throw new Z("Parameter 'step' must be positive");let i=0,o=0;for(let s of R(t))if(!(i++<e||(i-e-1)%n!==0)){if(o++===r&&r!==void 0)break;yield s}}function Ns(t,e=0,r,n=1){return de(this,arguments,function*(){var o,s,a,u;if(e<0)throw new Z("Parameter 'start' cannot be negative");if(r!==void 0&&r<0)throw new Z("Parameter 'count' cannot be negative");if(n<=0)throw new Z("Parameter 'step' must be positive");let l=0,f=0;try{for(var p=!0,d=ue(C(t)),y;y=yield $(d.next()),o=y.done,!o;){u=y.value,p=!1;try{let _=u;if(l++<e||(l-e-1)%n!==0)continue;if(f++===r&&r!==void 0)break;yield yield $(_)}finally{p=!0}}}catch(_){s={error:_}}finally{try{!p&&!o&&(a=d.return)&&(yield $(a.call(d)))}finally{if(s)throw s.error}}})}function*Os(t){for(let[e]of R(t))yield e}function Ds(t){return de(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=ue(C(t)),u;u=yield $(a.next()),r=u.done,!r;){o=u.value,s=!1;try{let[l]=o;yield yield $(l)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield $(i.call(a)))}finally{if(n)throw n.error}}})}function*Fs(t,e,r=0){if(e<0||r<0)throw new Z;let n=-r;for(let i of R(t))(n<0||n>=e)&&(yield i),++n}function js(t,e,r=0){return de(this,arguments,function*(){var i,o,s,a;if(e<0||r<0)throw new Z;let u=-r;try{for(var l=!0,f=ue(C(t)),p;p=yield $(f.next()),i=p.done,!i;){a=p.value,l=!1;try{let d=a;(u<0||u>=e)&&(yield yield $(d)),++u}finally{l=!0}}}catch(d){o={error:d}}finally{try{!l&&!i&&(s=f.return)&&(yield $(s.call(f)))}finally{if(o)throw o.error}}})}function*qs(t){for(let[,e]of R(t))yield e}function Bs(t){return de(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=ue(C(t)),u;u=yield $(a.next()),r=u.done,!r;){o=u.value,s=!1;try{let[,l]=o;yield yield $(l)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield $(i.call(a)))}finally{if(n)throw n.error}}})}function*Us(t,e,r){let n=new Map,i=o=>{n.has(o)||(r!==void 0?n.set(o,{}):n.set(o,[]))};for(let o of R(t)){let s=e(o),a=r!==void 0?r(o):void 0,u=(qe(s)||nt(s))&&!$t(s)?s:[s];for(let l of Pr(u))i(l),a===void 0?n.get(l).push(o):n.get(l)[a]=o}for(let o of n)yield o}function Ws(t,e,r){return de(this,arguments,function*(){var i,o,s,a,u,l,f,p;let d=new Map,y=x=>{d.has(x)||(r!==void 0?d.set(x,{}):d.set(x,[]))};try{for(var _=!0,w=ue(C(t)),T;T=yield $(w.next()),i=T.done,!i;){a=T.value,_=!1;try{let x=a,F=yield $(e(x)),G=r!==void 0?yield $(r(x)):void 0,v=(jt(F)||qe(F)||nt(F))&&!$t(F)?F:[F];try{for(var E=!0,A=(l=void 0,ue(wn(v))),b;b=yield $(A.next()),u=b.done,!u;){p=b.value,E=!1;try{let I=p;y(I),G===void 0?d.get(I).push(x):d.get(I)[G]=x}finally{E=!0}}}catch(I){l={error:I}}finally{try{!E&&!u&&(f=A.return)&&(yield $(f.call(A)))}finally{if(l)throw l.error}}}finally{_=!0}}}catch(x){o={error:x}}finally{try{!_&&!i&&(s=w.return)&&(yield $(s.call(w)))}finally{if(o)throw o.error}}for(let x of d)yield yield $(x)})}function*Js(t,e){let r=Bt(t);e!==void 0?r.sort(e):r.sort();for(let n of r)yield n}function Vs(t,e){return de(this,arguments,function*(){let n=yield $(mt(t));e!==void 0?n.sort(e):n.sort();for(let i of n)yield yield $(i)})}var Sc=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},ar=function(t){return this instanceof ar?(this.v=t,this):new ar(t)},ip=function(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:ar(t[i](s)),done:i==="return"}:o?o(s):s}:o}},op=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(_,w){o.push([d,y,_,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(_){p(o[0][3],_)}}function u(d){d.value instanceof ar?Promise.resolve(d.value.v).then(l,f):p(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*Mc(t=1,e=1){for(let r=t;;r+=e)yield r}function*Cu(t){let e=[...R(t)];if(e.length!==0)for(;;)for(let r of e)yield r}function Pc(t){return op(this,arguments,function*(){var r,n,i,o;let s=[];try{for(var a=!0,u=Sc(C(t)),l;l=yield ar(u.next()),r=l.done,!r;){o=l.value,a=!1;try{let f=o;s.push(f),yield yield ar(f)}finally{a=!0}}}catch(f){n={error:f}}finally{try{!a&&!r&&(i=u.return)&&(yield ar(i.call(u)))}finally{if(n)throw n.error}}yield ar(yield*ip(Sc(Cu(s))))})}function*Cc(t){for(;;)yield t}var $n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},ee=function(t){return this instanceof ee?(this.v=t,this):new ee(t)},kn=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(_,w){o.push([d,y,_,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(_){p(o[0][3],_)}}function u(d){d.value instanceof ee?Promise.resolve(d.value.v).then(l,f):p(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*Hs(t,e){let r=0;for(let n of fi(R(t),e))r++,yield n/r}function zs(t,e){return kn(this,arguments,function*(){var n,i,o,s;let a=0;try{for(var u=!0,l=$n(di(C(t),e)),f;f=yield ee(l.next()),n=f.done,!n;){s=f.value,u=!1;try{let p=s;a++,yield yield ee(p/a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield ee(o.call(l)))}finally{if(i)throw i.error}}})}function*Gs(t,e){e!==void 0&&(yield e);let r=e??0;for(let n of R(t))r-=Number(n),yield r}function Ys(t,e){return kn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ee(e));let a=e??0;try{for(var u=!0,l=$n(C(t)),f;f=yield ee(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a-=Number(s),yield yield ee(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield ee(o.call(l)))}finally{if(i)throw i.error}}})}function*Ks(t,e){e!==void 0&&(yield e);let r=e??-1/0;for(let n of R(t))r=Math.max(r,n),yield r}function Qs(t,e){return kn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ee(e));let a=e??-1/0;try{for(var u=!0,l=$n(C(t)),f;f=yield ee(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a=Math.max(a,s),yield yield ee(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield ee(o.call(l)))}finally{if(i)throw i.error}}})}function*Xs(t,e){e!==void 0&&(yield e);let r=e??1/0;for(let n of R(t))r=Math.min(r,n),yield r}function Zs(t,e){return kn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ee(e));let a=e??1/0;try{for(var u=!0,l=$n(C(t)),f;f=yield ee(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a=Math.min(a,s),yield yield ee(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield ee(o.call(l)))}finally{if(i)throw i.error}}})}function*ea(t,e){e!==void 0&&(yield e);let r=e??1;for(let n of R(t))r*=Number(n),yield r}function ta(t,e){return kn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ee(e));let a=e??1;try{for(var u=!0,l=$n(C(t)),f;f=yield ee(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a*=Number(s),yield yield ee(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield ee(o.call(l)))}finally{if(i)throw i.error}}})}function*fi(t,e){e!==void 0&&(yield e);let r=e??0;for(let n of R(t))r+=Number(n),yield r}function di(t,e){return kn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ee(e));let a=e??0;try{for(var u=!0,l=$n(C(t)),f;f=yield ee(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a+=Number(s),yield yield ee(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=l.return)&&(yield ee(o.call(l)))}finally{if(i)throw i.error}}})}var nr=class t{static of(e){return new t(R(e))}static ofEmpty(){return new t([])}static ofCount(e=1,r=1){return new t(Wt.count(e,r))}static ofCycle(e){return new t(Wt.cycle(e))}static ofRepeat(e){return new t(Wt.repeat(e))}zipWith(...e){return this.data=dn(this.data,...e),this}zipFilledWith(e,...r){return this.data=_o(e,this.data,...r),this}zipLongestWith(...e){return this.data=go(this.data,...e),this}zipEqualWith(...e){return this.data=hn(this.data,...e),this}chainWith(...e){return this.data=wo(this.data,...e),this}chunkwiseOverlap(e,r,n=!0){return this.data=An(this.data,e,r,n),this}chunkwise(e){return this.data=Ss(this.data,e),this}compress(e){return this.data=gs(this.data,e),this}dropWhile(e){return this.data=ws(this.data,e),this}filter(e){return this.data=ks(this.data,e),this}enumerate(){return this.data=Ut(this.data),this}keys(){return this.data=Os(this.data),this}limit(e){return this.data=Ps(this.data,e),this}map(e){return this.data=sr(this.data,e),this}flatMap(e){return this.data=Ts(this.data,e),this}flatten(e=1/0){return this.data=li(this.data,e),this}groupBy(e,r){return this.data=Us(this.data,e,r),this}pairwise(){return this.data=qt(this.data),this}runningAverage(e){return this.data=Hs(this.data,e),this}runningDifference(e){return this.data=Gs(this.data,e),this}runningMax(e){return this.data=Ks(this.data,e),this}runningMin(e){return this.data=Xs(this.data,e),this}runningProduct(e){return this.data=ea(this.data,e),this}runningTotal(e){return this.data=fi(this.data,e),this}skip(e,r=0){return this.data=Fs(this.data,e,r),this}slice(e=0,r,n=1){return this.data=Ls(this.data,e,r,n),this}takeWhile(e){return this.data=Es(this.data,e),this}values(){return this.data=qs(this.data),this}sort(e){return this.data=Js(this.data,e),this}distinct(e){return this.data=Pr(this.data,e),this}intersectionWith(...e){return this.data=fs(this.data,...e),this}partialIntersectionWith(e,...r){return this.data=bn(e,this.data,...r),this}symmetricDifferenceWith(...e){return this.data=ps(this.data,...e),this}unionWith(...e){return this.data=ms(this.data,...e),this}cartesianProductWith(...e){return this.data=_s(this.data,...e),this}peek(e){let[r,n]=_n(this.data,2);this.data=r;for(let i of n)e(i);return this}peekStream(e){let[r,n]=_n(this.data,2);return this.data=r,e(t.of(n)),this}toValue(e,r){return Ke(this,e,r)}toAverage(){return Ao(this)}toCount(){return Sr(this)}toMax(e){return $o(this,e)}toMin(e){return Io(this,e)}toMinMax(e){return ai(this,e)}toFirst(){return Oo(this)}toFirstAndLast(){return qo(this)}toLast(){return Fo(this)}toSum(){return Co(this)}toProduct(){return Lo(this)}toRange(){return Mo(this)}allMatch(e){return Uo(this,e)}allUnique(){return Jo(this)}anyMatch(e){return Ho(this,e)}exactlyN(e,r){return Go(this,e,r)}isSorted(){return Xo(this)}isReversed(){return Ko(this)}noneMatch(e){return es(this,e)}sameWith(...e){return rs(this.data,...e)}sameCountWith(...e){return is(this.data,...e)}tee(e){return _n(this.data,e).map(r=>new t(r))}toArray(){return Bt(this)}toMap(){return as(this)}toSet(){return ls(this)}*[Symbol.iterator](){for(let e of this.data)yield e}constructor(e){this.data=e}};var re=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(p){s(p)}}function u(f){try{l(n.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},Rc=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},In=function(t){return this instanceof In?(this.v=t,this):new In(t)},sp=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(_,w){o.push([d,y,_,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(_){p(o[0][3],_)}}function u(d){d.value instanceof In?Promise.resolve(d.value.v).then(l,f):p(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},ra=class t{static of(e){return new t(C(e))}static ofEmpty(){return new t(C([]))}static ofCount(e=1,r=1){return new t(C(Wt.count(e,r)))}static ofCycle(e){return new t(Wt.cycleAsync(e))}static ofRepeat(e){return new t(C(Wt.repeat(e)))}zipWith(...e){return this.data=pn(this.data,...e),this}zipFilledWith(e,...r){return this.data=vo(e,this.data,...r),this}zipLongestWith(...e){return this.data=xo(this.data,...e),this}zipEqualWith(...e){return this.data=mn(this.data,...e),this}chainWith(...e){return this.data=bo(this.data,...e),this}chunkwiseOverlap(e,r,n=!0){return this.data=Tn(this.data,e,r,n),this}chunkwise(e){return this.data=Ms(this.data,e),this}compress(e){return this.data=xs(this.data,e),this}dropWhile(e){return this.data=bs(this.data,e),this}filter(e){return this.data=Is(this.data,e),this}enumerate(){return this.data=Rs(this.data),this}keys(){return this.data=Ds(this.data),this}limit(e){return this.data=Cs(this.data,e),this}map(e){return this.data=kt(this.data,e),this}flatMap(e){return this.data=$s(this.data,e),this}flatten(e=1/0){return this.data=ci(this.data,e),this}groupBy(e,r){return this.data=Ws(this.data,e,r),this}pairwise(){return this.data=Mr(this.data),this}runningAverage(e){return this.data=zs(this.data,e),this}runningDifference(e){return this.data=Ys(this.data,e),this}runningMax(e){return this.data=Qs(this.data,e),this}runningMin(e){return this.data=Zs(this.data,e),this}runningProduct(e){return this.data=ta(this.data,e),this}runningTotal(e){return this.data=di(this.data,e),this}skip(e,r=0){return this.data=js(this.data,e,r),this}slice(e=0,r,n=1){return this.data=Ns(this.data,e,r,n),this}takeWhile(e){return this.data=As(this.data,e),this}values(){return this.data=Bs(this.data),this}sort(e){return this.data=Vs(this.data,e),this}distinct(e){return this.data=wn(this.data,e),this}intersectionWith(...e){return this.data=ds(this.data,...e),this}partialIntersectionWith(e,...r){return this.data=En(e,this.data,...r),this}symmetricDifferenceWith(...e){return this.data=hs(this.data,...e),this}unionWith(...e){return this.data=ys(this.data,...e),this}cartesianProductWith(...e){return this.data=vs(this.data,...e),this}peek(e){let[r,n]=vn(this.data,2);return this.data=r,re(this,void 0,void 0,function*(){var i,o,s,a;try{for(var u=!0,l=Rc(n),f;f=yield l.next(),i=f.done,!i;){a=f.value,u=!1;try{e(a)}finally{u=!0}}}catch(p){o={error:p}}finally{try{!u&&!i&&(s=l.return)&&(yield s.call(l))}finally{if(o)throw o.error}}}),this}peekStream(e){let[r,n]=vn(this.data,2);return this.data=r,e(t.of(n)),this}toValue(e,r){return re(this,void 0,void 0,function*(){return yield Qe(this,e,r)})}toAverage(){return re(this,void 0,void 0,function*(){return yield To(this)})}toCount(){return re(this,void 0,void 0,function*(){return yield yn(this)})}toMax(e){return re(this,void 0,void 0,function*(){return yield ko(this,e)})}toMin(e){return re(this,void 0,void 0,function*(){return yield So(this,e)})}toMinMax(e){return re(this,void 0,void 0,function*(){return yield ui(this,e)})}toFirst(){return re(this,void 0,void 0,function*(){return yield Do(this)})}toFirstAndLast(){return re(this,void 0,void 0,function*(){return yield Bo(this)})}toLast(){return re(this,void 0,void 0,function*(){return yield jo(this)})}toSum(){return re(this,void 0,void 0,function*(){return yield Ro(this)})}toProduct(){return re(this,void 0,void 0,function*(){return yield No(this)})}toRange(){return re(this,void 0,void 0,function*(){return yield Po(this)})}allMatch(e){return re(this,void 0,void 0,function*(){return yield Wo(this,e)})}allUnique(){return re(this,void 0,void 0,function*(){return yield Vo(this)})}anyMatch(e){return re(this,void 0,void 0,function*(){return yield zo(this,e)})}exactlyN(e,r){return re(this,void 0,void 0,function*(){return Yo(this,e,r)})}isSorted(){return re(this,void 0,void 0,function*(){return yield Zo(this)})}isReversed(){return re(this,void 0,void 0,function*(){return yield Qo(this)})}noneMatch(e){return re(this,void 0,void 0,function*(){return yield ts(this,e)})}sameWith(...e){return re(this,void 0,void 0,function*(){return yield ns(this.data,...e)})}sameCountWith(...e){return re(this,void 0,void 0,function*(){return yield os(this.data,...e)})}tee(e){return vn(this.data,e).map(r=>new t(r))}toArray(){return re(this,void 0,void 0,function*(){return yield mt(this)})}toMap(){return re(this,void 0,void 0,function*(){return yield us(this)})}toSet(){return re(this,void 0,void 0,function*(){return yield cs(this)})}[Symbol.asyncIterator](){return sp(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=Rc(this.data),u;u=yield In(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield In(o)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield In(i.call(a)))}finally{if(n)throw n.error}}})}constructor(e){this.data=e}};var fn={chunkwise:Ss,chunkwiseOverlap:An,compress:gs,dropWhile:ws,enumerate:Ut,filter:ks,flatMap:Ts,flatten:li,groupBy:Us,keys:Os,limit:Ps,map:sr,pairwise:qt,repeat:kc,skip:Fs,slice:Ls,sort:Js,takeWhile:Es,values:qs,chunkwiseAsync:Ms,chunkwiseOverlapAsync:Tn,compressAsync:xs,dropWhileAsync:bs,enumerateAsync:Rs,filterAsync:Is,flatMapAsync:$s,flattenAsync:ci,groupByAsync:Ws,keysAsync:Ds,limitAsync:Cs,mapAsync:kt,pairwiseAsync:Mr,repeatAsync:Ic,skipAsync:js,sliceAsync:Ns,sortAsync:Vs,takeWhileAsync:As,valuesAsync:Bs},Wt={count:Mc,cycle:Cu,cycleAsync:Pc,repeat:Cc},ap={runningAverage:Hs,runningDifference:Gs,runningMax:Ks,runningMin:Xs,runningProduct:ea,runningTotal:fi,runningAverageAsync:zs,runningDifferenceAsync:Ys,runningMaxAsync:Qs,runningMinAsync:Zs,runningProductAsync:ta,runningTotalAsync:di},up={chain:wo,zip:dn,zipFilled:_o,zipLongest:go,zipEqual:hn,chainAsync:bo,zipAsync:pn,zipFilledAsync:vo,zipLongestAsync:xo,zipEqualAsync:mn},lp={distinct:Pr,intersection:fs,partialIntersection:bn,symmetricDifference:ps,union:ms,cartesianProduct:_s,distinctAsync:wn,intersectionAsync:ds,partialIntersectionAsync:En,symmetricDifferenceAsync:hs,unionAsync:ys,cartesianProductAsync:vs},yo={toAverage:Ao,toCount:Sr,toFirst:Oo,toFirstAndLast:qo,toLast:Fo,toMax:$o,toMin:Io,toMinMax:ai,toProduct:Lo,toRange:Mo,toSum:Co,toValue:Ke,toAverageAsync:To,toCountAsync:yn,toFirstAsync:Do,toFirstAndLastAsync:Bo,toLastAsync:jo,toMaxAsync:ko,toMinAsync:So,toMinMaxAsync:ui,toProductAsync:No,toRangeAsync:Po,toSumAsync:Ro,toValueAsync:Qe},cp={allMatch:Uo,allUnique:Jo,anyMatch:Ho,exactlyN:Go,isEmpty:Ac,isAsyncIterable:jt,isIterable:qe,isIterator:nt,isReversed:Ko,isSorted:Xo,isString:$t,noneMatch:es,same:rs,sameCount:is,allMatchAsync:Wo,allUniqueAsync:Vo,anyMatchAsync:zo,exactlyNAsync:Yo,isEmptyAsync:Tc,isReversedAsync:Qo,isSortedAsync:Zo,noneMatchAsync:ts,sameAsync:ns,sameCountAsync:os},fp={tee:_n,toArray:Bt,toAsyncIterable:C,toAsyncIterator:ii,toIterable:R,toIterator:ni,toMap:as,toSet:ls,teeAsync:vn,toArrayAsync:mt,toMapAsync:us,toSetAsync:cs};var na=class{apiInstance;constructor(e){this.apiInstance=e}parsinom(){return{P:Dc.P,P_UTILS:Oc.P_UTILS,Parser:Lc.Parser,createParsingErrorMessage:ia.createParsingErrorMessage,ParsingError:ia.ParsingError,ParserContext:Nc.ParserContext}}itertools(){return Ru}};var oa=class{apiInstance;constructor(e){this.apiInstance=e}createBuilder(){return new mr}create(e){return new Pt(e)}createText(e){return new st(e,!1,!1,!1)}createBoldText(e){return new st(e,!0,!1,!1)}createCursiveText(e){return new st(e,!1,!0,!1)}createUnderlinedText(e){return new st(e,!1,!1,!0)}createCode(e){return new On(e)}createParagraph(e){return new jn(e)}createHeading(e,r){return new Fn(e,r)}createBlockQuote(){return new Bn}createCallout(e,r,n=""){return new Wr(e,r,n)}createCodeBlock(e,r){return new qn(e,r)}createTable(e,r){return new Dn(e,r)}createList(e){return new Un(e)}};var sa=class{apiInstance;messageManager;constructor(e){this.apiInstance=e,this.messageManager=e.plugin.messageManager}createMessage(e,r,n,i=""){return this.messageManager.addMessage(new eo(e,r,n,i),this.apiInstance.instanceId)}getMessageById(e){return this.messageManager.messages.get().find(r=>r.uuid===e)}getMessagesForInstance(){return this.messageManager.getMessagesFromSource(this.apiInstance.instanceId)}};var dp=te('<p> </p> <div class="modal-button-container"></div>',1);function Lu(t,e){ke(e,!0);let r;function n(l){let f=r.querySelector("button:focus");if(f){let p=parseInt(f.getAttribute("data-index")??"0",10),d=gc(p+(l?1:-1),e.options.buttons.length),y=r.querySelector(`button[data-index="${d}"]`);y&&y instanceof HTMLElement&&y.focus()}}function i(l){l.key==="ArrowRight"&&(l.preventDefault(),n(!0)),l.key==="ArrowLeft"&&(l.preventDefault(),n(!0))}var o=dp(),s=wt(o),a=U(s);j(s);var u=z(s,2);cu(u,l=>r=l,()=>r),tr(u,21,()=>e.options.buttons,Xn,(l,f,p)=>{var d=Kt(()=>L(f).variant??"default"),y=Kt(()=>({"data-index":p,onkeydown:_=>i(_)}));rr(l,{get variant(){return L(d)},onclick:()=>e.modal.submit(L(f).value),get other(){return L(y)},children:(_,w)=>{Xt();var T=Zt();oe(()=>le(T,L(f).label)),V(_,T)},$$slots:{default:!0}})}),j(u),oe(()=>le(a,e.options.content)),V(t,o),Ie()}function Nu(t,e,r){t.key==="Enter"&&e.inputType!=="textarea"&&(t.stopPropagation(),t.preventDefault(),e.modal.submit(L(r))),t.key==="Enter"&&t.ctrlKey&&e.inputType==="textarea"&&(t.stopPropagation(),t.preventDefault(),e.modal.submit(L(r))),t.key==="Escape"&&(t.stopPropagation(),t.preventDefault(),e.modal.submit(void 0))}var pp=te('<textarea style="width: 100%; resize: vertical; height: 200px"></textarea>'),hp=te('<input style="width: 100%;" type="text">'),mp=te('<input style="width: 100%;" type="number">'),yp=te('<p> </p> <!> <div class="modal-button-container"><!> <!></div>',1);function pi(t,e){ke(e,!0);let r=gr(He(e.options.initialValue));var n=yp(),i=wt(n),o=U(i);j(i);var s=z(i,2);Et(s,()=>e.inputType==="textarea",f=>{var p=pp();nu(p),p.__keydown=[Nu,e,r],oe(()=>pt(p,"placeholder",e.options.placeholder??"Text here...")),ei(p,()=>L(r),d=>H(r,d)),V(f,p)},f=>{var p=Ya(),d=wt(p);Et(d,()=>e.inputType==="text",y=>{var _=hp();zi(_),_.__keydown=[Nu,e,r],oe(()=>pt(_,"placeholder",e.options.placeholder??"Text here...")),ei(_,()=>L(r),w=>H(r,w)),V(y,_)},y=>{var _=mp();zi(_),_.__keydown=[Nu,e,r],oe(()=>pt(_,"placeholder",e.options.placeholder??"Number here...")),ei(_,()=>L(r),w=>H(r,w)),V(y,_)},!0),V(f,p)});var a=z(s,2),u=U(a);rr(u,{get variant(){return"primary"},onclick:()=>e.modal.submit(L(r)),children:(f,p)=>{Xt();var d=Zt("Submit");V(f,d)},$$slots:{default:!0}});var l=z(u,2);rr(l,{get variant(){return"default"},onclick:()=>e.modal.submit(void 0),children:(f,p)=>{Xt();var d=Zt("Cancel");V(f,d)},$$slots:{default:!0}}),j(a),oe(()=>le(o,e.options.content)),V(t,n),Ie()}Tr(["keydown"]);var Fc=require("obsidian"),aa=class extends Fc.FuzzySuggestModal{options;onSubmit;selectedValue;constructor(e,r,n){super(e),this.options=r,this.onSubmit=n,r.placeholder&&this.setPlaceholder(r.placeholder)}getItems(){return this.options.options}getItemText(e){return e.label}onChooseItem(e,r){this.selectedValue=e.value}onOpen(){super.onOpen(),this.selectedValue=void 0}onClose(){super.onClose(),queueMicrotask(()=>{this.onSubmit(this.selectedValue)})}};var jc=require("obsidian");var Cr=class extends jc.Modal{component;options;createComponent;onSubmit;submitted;constructor(e,r,n,i){super(e),this.options=r,this.createComponent=n,this.onSubmit=i,this.submitted=!1}onOpen(){this.submitted=!1,this.setTitle(this.options.title),this.containerEl.addClasses(this.options.classes??[]),this.createComponent(this,this.contentEl)}onClose(){this.submitted||(this.submitted=!0,this.onSubmit(void 0)),this.component&&Ge(this.component),this.contentEl.empty()}submit(e){this.submitted=!0,this.onSubmit(e),this.close()}};var ua=class{apiInstance;constructor(e){this.apiInstance=e}button(e){return new Promise((r,n)=>{try{new Cr(this.apiInstance.app,e,(i,o)=>Se(Lu,{target:o,props:{options:e,modal:i}}),r).open()}catch(i){n(i)}})}async confirm(e){return await this.button({...e,buttons:[{label:"Confirm",value:!0,variant:"primary"},{label:"Cancel",value:!1,variant:"default"}]})??!1}async yesNo(e){return await this.button({...e,buttons:[{label:"Yes",value:!0,variant:"primary"},{label:"No",value:!1,variant:"default"}]})}suggester(e){return new Promise((r,n)=>{try{new aa(this.apiInstance.app,e,r).open()}catch(i){n(i)}})}text(e){return e.initialValue=e.initialValue??"",new Promise((r,n)=>{try{new Cr(this.apiInstance.app,e,(i,o)=>Se(pi,{target:o,props:{options:e,modal:i,inputType:"text"}}),r).open()}catch(i){n(i)}})}textarea(e){return e.initialValue=e.initialValue??"",new Promise((r,n)=>{try{new Cr(this.apiInstance.app,e,(i,o)=>Se(pi,{target:o,props:{options:e,modal:i,inputType:"textarea"}}),r).open()}catch(i){n(i)}})}number(e){return e.initialValue=e.initialValue??0,new Promise((r,n)=>{try{new Cr(this.apiInstance.app,e,(i,o)=>Se(pi,{target:o,props:{options:e,modal:i,inputType:"number"}}),r).open()}catch(i){n(i)}})}};var qc=require("obsidian"),la=class{apiInstance;constructor(e){this.apiInstance=e}files(e){return this.apiInstance.app.vault.getMarkdownFiles().map(r=>e(r)).filter(r=>r!==void 0)}filesWithMetadata(e){return this.apiInstance.app.vault.getMarkdownFiles().map(r=>{let n=this.apiInstance.app.metadataCache.getFileCache(r),i=n?(0,qc.getAllTags)(n)??[]:[];return e(r,n,i)}).filter(r=>r!==void 0)}};var Sn=class{app;plugin;instanceId;markdown;message;lib;query;prompt;internal;constructor(e,r,n){this.app=e,this.plugin=r,this.instanceId=n,this.markdown=new oa(this),this.message=new sa(this),this.lib=new na(this),this.query=new la(this),this.prompt=new ua(this),this.internal=new no(this)}async importJs(e){let r=this.app.vault.adapter.getResourcePath(e);return r=r.split("?")[0],import(r)}getPlugin(e){return this.app.plugins.getPlugin(e)??void 0}reactive(e,...r){return new an(this,e,r)}};var Mn=class t{name;id;constructor(e,r){this.name=e,this.id=r}toString(){return`plugin:js-engine:${this.name}:${this.id}`}static create(e){return new t(e,self.crypto.randomUUID())}};var ca=class{app;plugin;context;apiInstance;messages;func;globals;uuid;code;result;functionBuildError;functionRunError;functionBuildTime;functionRunTime;constructor(e){this.app=e.app,this.plugin=e.plugin,this.code=e.code,this.context=Object.assign({},e.context,e.contextOverrides),this.uuid=self.crypto.randomUUID(),this.apiInstance=new Sn(this.app,this.plugin,new Mn("JS_EXECUTION",this.uuid)),this.messages=[],this.func=void 0,this.globals=this.apiInstance.internal.createExecutionGlobals({component:e.component,context:this.context,container:e.container})}buildFunction(){let e=performance.now();try{this.func=window.eval(`(async function anonymous(${Object.keys(this.globals).join(", ")}) {

${this.code}

})
 //# sourceURL=${encodeURIComponent(this.apiInstance.instanceId.toString())}`)}catch(r){console.warn("failed to parse JS",r),r instanceof Error&&(this.functionBuildError=r,this.result=this.plugin.api?.message.createMessage("error","Failed to parse JS",`Failed to parse JS during execution "${this.uuid}"`,r.stack))}this.functionBuildTime=performance.now()-e}async runFunction(){if(this.functionBuildError)throw new Error("can not run function, function construction failed");if(!this.func)throw new Error("can not run function, function has not been constructed yet");let e=performance.now();try{this.result=await Promise.resolve(this.func(...Object.values(this.globals)))}catch(r){console.warn("failed to execute JS",r),r instanceof Error&&(this.functionRunError=r,this.result=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during execution "${this.uuid}"`,r.stack))}this.messages=this.apiInstance.message.getMessagesForInstance(),this.functionRunTime=performance.now()-e}isSuccessful(){return!this.functionBuildError&&!this.functionRunError}getMessages(){return this.messages}openStatsModal(){this.plugin.jsEngine.openExecutionStatsModal(this)}};var vp=te("<tr><td> </td><td> </td></tr>"),gp=te("<tr><td>none</td><td>-</td></tr>"),xp=te("<p>None</p>"),wp=te('<div><h2>JS Execution Stats</h2> <p> </p> <h3>Code</h3> <pre class="language-js"><code class="language-js"><!></code></pre> <h3>Time</h3> <p> </p> <p> </p> <h3>Arguments</h3> <div class="markdown-rendered"><table><thead><tr><th>Argument Name</th><th>Value Type</th></tr></thead><tbody></tbody></table></div> <h3>Messages</h3> <div></div></div>');function Ou(t,e){ke(e,!0);function r(E){let A=window.Prism;try{return A.highlight(E,A.languages.javascript,"javascript")}catch(b){return console.warn("js-engine | failed to highlight code",b),E}}var n=wp(),i=z(U(n),2),o=U(i);j(i);var s=z(i,4),a=U(s),u=U(a);eu(u,()=>r(e.execution.code),!1,!1),j(a),j(s);var l=z(s,4),f=U(l);j(l);var p=z(l,2),d=U(p);j(p);var y=z(p,4),_=U(y),w=z(U(_));tr(w,21,()=>Object.entries(e.execution.globals),E=>E[0],(E,A)=>{var b=vp(),x=U(b),F=U(x);j(x);var G=z(x),v=U(G);j(G),j(b),oe(()=>{le(F,L(A)[0]),le(v,typeof L(A)[1])}),V(E,b)},E=>{var A=gp();V(E,A)}),j(w),j(_),j(y);var T=z(y,4);tr(T,21,()=>e.execution.getMessages(),Xn,(E,A)=>{$r(E,{get messageWrapper(){return L(A)},get messageManager(){return e.execution.plugin.messageManager},showDeleteButton:!1,showMessageSource:!1})},E=>{var A=xp();V(E,A)}),j(T),j(n),oe(()=>{le(o,`Execution ID: ${e.execution.uuid??""}`),le(f,`Build Time: ${Math.round(e.execution.functionBuildTime??0)??""} ms`),le(d,`Execution Time: ${Math.round(e.execution.functionRunTime??0)??""} ms`)}),V(t,n),Ie()}var Bc=require("obsidian");var fa=class extends Bc.Modal{plugin;component;execution;constructor(e,r){super(e),this.plugin=r}setExecution(e){this.execution=e}onOpen(){if(this.contentEl.empty(),this.component&&Ge(this.component),this.contentEl.hasClass("js-engine-execution-stats-modal")||this.contentEl.addClass("js-engine-execution-stats-modal"),this.execution===void 0){this.contentEl.createEl("p",{cls:"mod-warning",text:"No execution data available."});return}this.component=Se(Ou,{target:this.contentEl,props:{execution:this.execution}})}onClose(){this.contentEl.empty(),this.component&&Ge(this.component)}};var da=class{app;plugin;executionStatsModal;activeExecutions;constructor(e,r){this.app=e,this.plugin=r,this.executionStatsModal=new fa(this.app,this.plugin),this.activeExecutions=new Map}async execute(e){let r=new ca({app:this.app,plugin:this.plugin,...e});return this.activeExecutions.set(r.uuid,r),r.buildFunction(),r.functionBuildError||await r.runFunction(),this.activeExecutions.delete(r.uuid),r}openExecutionStatsModal(e){this.executionStatsModal.setExecution(e),this.executionStatsModal.open()}};var ha=require("obsidian"),pa=class extends ha.FuzzySuggestModal{plugin;selectCallback;constructor(e,r){super(e.app),this.plugin=e,this.selectCallback=r}getItems(){return this.app.vault.getAllLoadedFiles().filter(r=>r instanceof ha.TFile).filter(r=>r.extension==="js")}getItemText(e){return e.path}onChooseItem(e,r){this.selectCallback(e)}};var ur=require("obsidian"),ma=class extends ur.MarkdownRenderChild{plugin;content;ctx;jsExecution;constructor(e,r,n,i){super(e),this.plugin=r,this.content=n,this.ctx=i}getExecutionFile(){if(!this.ctx.sourcePath)return;let e=this.plugin.app.vault.getAbstractFileByPath(this.ctx.sourcePath);if(e&&e instanceof ur.TFile)return e}buildExecutionContext(){let e=this.getExecutionFile();return{file:e,metadata:e===void 0?void 0:this.plugin.app.metadataCache.getFileCache(e)??void 0,block:void 0}}async tryRun(e){return this.plugin.jsEngine.execute({code:this.content,context:e,contextOverrides:{},component:this,container:this.containerEl})}async renderResults(e){let r=this.buildExecutionContext();this.jsExecution=await this.tryRun(r);let n=this.jsExecution.result;await new un(this.plugin,e,this.ctx.sourcePath,this).render(n)}renderExecutionStats(e){let r=new ur.Menu;r.addItem(i=>{i.setTitle("Info"),i.setIcon("info"),i.onClick(()=>{this.jsExecution?.openStatsModal()})}),r.addItem(i=>{i.setTitle("Rerun"),i.setIcon("rotate-ccw"),i.onClick(()=>{this.render()})});let n=e.createDiv();n.addClass("js-engine-execution-stats-button"),n.addEventListener("click",i=>{r.showAtMouseEvent(i)}),(0,ur.setIcon)(n,"info")}async render(){this.containerEl.empty(),this.containerEl.hasClass("js-engine-execution-render-child")||this.containerEl.addClass("js-engine-execution-render-child");try{await this.renderResults(this.containerEl),this.renderExecutionStats(this.containerEl)}catch(e){this.containerEl.innerText=e instanceof Error?e.stack?.toString()??"":e,this.containerEl.addClass("mod-warning")}}onload(){this.render()}onunload(){}};var bp=require("obsidian"),Uc={};var Wc=require("obsidian"),ya=class extends Wc.Plugin{settings;messageManager;jsEngine;api;constructor(e,r){super(e,r),this.messageManager=new to(this.app,this),this.jsEngine=new da(this.app,this),this.api=new Sn(this.app,this,Mn.create("PLUGIN"))}async onload(){await this.loadSettings(),this.messageManager.initStatusBarItem(),this.registerMarkdownCodeBlockProcessor("js-engine",(e,r,n)=>{n.addChild(new ma(r,this,e,n))}),this.addCommand({id:"execute-js-file",name:"Execute JS File",callback:()=>{new pa(this,async e=>{await this.api.internal.executeFileSimple(e.path)}).open()}}),await this.registerCodeMirrorMode()}onunload(){}async loadSettings(){let e=await this.loadData();this.settings=Object.assign({},Uc,e)}async saveSettings(){await this.saveData(this.settings)}async registerCodeMirrorMode(){window.CodeMirror.defineMode("js-engine",e=>({startState:()=>Nn.startState?.(4),blankLine:n=>Nn.blankLine?.(n,4),copyState:n=>Nn.startState?.(4),token:(n,i)=>`line-HyperMD-codeblock ${Nn.token?.(n,i)}`}))}};
